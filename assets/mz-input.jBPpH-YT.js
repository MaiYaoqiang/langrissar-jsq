import{f as e,m as a,y as t,o as r,c as u,w as o,b as p,h as l,t as m,ar as d,i as n}from"./index-DHSZeDUI.js";import{B as f,c as s}from"./utils.BGiKHUUH.js";const c="_mz_percent_input_",i={__name:"mz-percent-input",props:{formData:{type:Object,required:!0},prop:{type:[String,Number],required:!0},placeholder:{type:String,default:"0"},defaultValue:{type:Number,default:0},justShow:{type:Boolean,default:!1}},setup(d){const n=d,i=/[^+\-*/.\d\s()]/g,y=e({get:()=>n.formData[`${c}${n.prop}`]||"",set:e=>{n.formData[n.prop]=D(e),n.formData[`${c}${n.prop}`]=e}}),h=e=>e?e.replace(i,""):"",D=e=>e?new f(s(e)/100).toNumber():n.defaultValue;return a((()=>{n.formData[n.prop]!==D(n.formData[`${c}${n.prop}`])&&(y.value=(e=>{if(!e)return n.defaultValue;try{return new f(100*e).toNumber()}catch(a){return n.defaultValue}})(n.formData[n.prop]))})),(e,a)=>{const f=t("el-input");return n.justShow?(r(),l("div",{key:1},m(y.value),1)):(r(),u(f,{key:0,modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),formatter:h,placeholder:d.placeholder},{append:o((()=>[p("%")])),_:1},8,["modelValue","placeholder"]))}}},y="_mz_input_",h={__name:"mz-input",props:{formData:{type:Object,required:!0},prop:{type:[String,Number],required:!0},placeholder:{type:String,default:"0"},defaultValue:{type:Number,default:0},justShow:{type:Boolean,default:!1}},setup(l){const c=l,i=/[^+\-*/.\d\s()]/g,h=e({get:()=>c.formData[`${y}${c.prop}`]||"",set:e=>{c.formData[c.prop]=V(e),c.formData[`${y}${c.prop}`]=e}}),D=e=>e?e.replace(i,""):"",V=e=>e?new f(s(e)).toNumber():c.defaultValue;return a((()=>{c.formData[c.prop]!==V(c.formData[`${y}${c.prop}`])&&(h.value=(e=>{if(!e)return c.defaultValue;try{return new f(e).toNumber()}catch(a){return c.defaultValue}})(c.formData[c.prop]))})),(e,a)=>{const f=t("el-input"),s=n;return c.justShow?(r(),u(s,{key:1},{default:o((()=>[p(m(h.value),1)])),_:1})):(r(),u(f,d({key:0,modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),formatter:D,placeholder:l.placeholder},e.$attrs),null,16,["modelValue","placeholder"]))}}};export{h as _,i as a};
