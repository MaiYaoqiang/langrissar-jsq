import{o as onReady,r as resolveEasycom,_ as __easycom_2}from"./uni-easyinput.vue_vue_type_style_index_0_scoped_a969df6c_lang.DR4Axuk8.js";import{r as ref,f as computed,g as resolveDynamicComponent,h as createElementBlock,a as createVNode,w as withCtx,u as unref,i as index$g,o as openBlock,F as Fragment,j as renderList,c as createBlock,b as createTextVNode,t as toDisplayString}from"./index-BroVbdzR.js";import{_ as __easycom_3,a as __easycom_4,b as __easycom_6}from"./uni-data-select.C3AMoA3-.js";import{_ as __easycom_10}from"./uni-forms.B3EF4JXs.js";import{T as TerrainType,A as AttackRate,a as AttackSegment,u as useRefCache,b as AttackType}from"./hook.CEOfrNj0.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper.BCo6x5W8.js";const _sfc_main={__name:"jyjsq",setup(__props){const shuoming=ref("\n使用说明：\n\n1.面板和增伤都是可以代入公式计算的，如要算一个士兵的攻击面板，可以直接输入233*(1+0.2+0.3)。但注意一定要使用英文的括号和英文的* /乘除法。\n\n2.增减伤、克制系数、无视克制都是默认百分比形式，如增伤应输入“20+5+8”，如克制系数如果是魔力震荡打圣职应输入“50”。\n\n3.增减伤需要判断正负号，如兰迪远程减伤光环，应在远程增减伤乘区输入“-15”。\n\n4.物理和魔法伤害需要手动选择，物理伤害默认用攻击-防御，魔法伤害默认用智力-魔防，如像尤弥尔这类物理转魔法，应将尤弥尔的攻击填到智力处，不然不能正常生效。\n\n5.如果没有出数据，检查是不是技能倍率没填，普攻要填1。\n\n6.如有站地形需要手动选择地形，或自己手动在“守方双防克制系数”填入地形加成系数。\n\n7.无视防御系数默认为无视双防，物理和魔法伤害计算均生效，仍为填入百分比，如水晶锋刺，应填入20。\n\n8.使用期间可能用诸多问题，建议作为测试机制，模拟经验使用。战场千遍万化靠的是经验，如实战使用翻车，不承担任何责任。\n\n9.梦战计算器使用交流群 928411216\n".split("\n")),TerrainTypeShowList=Object.values(TerrainType).map((e=>({text:`${e.text} (${e.rate}%)`,value:e.value}))),AttackRateShowList=Object.values(AttackRate).map((e=>({text:`${e.text} (${e.rate})`,value:e.value}))),AttackSegmentShowList=Object.values(AttackSegment).map((e=>({text:`${e.text} (${e.segment})`,value:e.value}))),formData=useRefCache("langrissar-calculator-index-fromData",{sh_lx:AttackType.physics.value,sf_dxxz:TerrainType.none.value,gf_gjxs:AttackRate.single.value,gf_gjds:AttackSegment.single.value}),attackerPanelLabel=computed((()=>{switch(formData.value.sh_lx){case AttackType.magic.value:return"攻方智力";case AttackType.physics.value:return"攻方攻击"}})),defenderPanelLabel=computed((()=>{switch(formData.value.sh_lx){case AttackType.magic.value:return"守方魔防";case AttackType.physics.value:return"守方防御"}})),rules=ref({}),formRef=ref(null);onReady((()=>{formRef.value.setRules(rules.value)}));const sh_dd=computed((()=>{let res=0;try{let{gf_gj:gf_gj=0,gf_gzkzxs:gf_gzkzxs=0,sf_fy:sf_fy=0,sf_sfkzxs:sf_sfkzxs=0,gf_wsfyxs:gf_wsfyxs=0,gf_jnbl:gf_jnbl=0,ty_zjs:ty_zjs=0,jn_zjs:jn_zjs=0,yc_zjs:yc_zjs=0,qt_zjs:qt_zjs=0,sf_dxxz:sf_dxxz=0,gf_gjxs:gf_gjxs=0}=formData.value;ty_zjs/=100,jn_zjs/=100,yc_zjs/=100,qt_zjs/=100,gf_gzkzxs/=100,gf_wsfyxs/=100,sf_sfkzxs/=100,sf_dxxz=Object.values(TerrainType).find((e=>e.value===sf_dxxz)).rate/100,gf_gjxs=Object.values(AttackRate).find((e=>e.value===gf_gjxs)).rate;const resStr=`(${gf_gj}*(1+${gf_gzkzxs}) - ${sf_fy}*(1+${sf_sfkzxs}+${sf_dxxz})*(1-${gf_wsfyxs})) * ${gf_jnbl} * (1+${ty_zjs}) * (1+${jn_zjs}) * (1+${yc_zjs}) * (1+${qt_zjs}) * ${gf_gjxs}`;res=eval(resStr)}catch(e){console.log(e)}return res})),sh_zs=computed((()=>{let res=0;try{const gf_gjds=Object.values(AttackSegment).find((e=>e.value===formData.value.gf_gjds)).segment;res=eval(`${sh_dd.value} * ${gf_gjds}`)}catch(e){console.log(e)}return res})),bjsh_dd=computed((()=>{let res=0;try{const{gf_bs:gf_bs=0,sf_jbs:sf_jbs=0}=formData.value;res=eval(` ${sh_dd.value} * (1.3+${gf_bs}-${sf_jbs})`)}catch(e){console.log(e)}return res})),bjsh_zs=computed((()=>{let res=0;try{const gf_gjds=Object.values(AttackSegment).find((e=>e.value===formData.value.gf_gjds)).segment;res=eval(`${bjsh_dd.value} * ${gf_gjds}`)}catch(e){console.log(e)}return res}));return(e,a)=>{const t=resolveEasycom(resolveDynamicComponent("uni-data-checkbox"),__easycom_2),l=resolveEasycom(resolveDynamicComponent("uni-forms-item"),__easycom_3),s=resolveEasycom(resolveDynamicComponent("uni-easyinput"),__easycom_4),o=resolveEasycom(resolveDynamicComponent("uni-data-select"),__easycom_6),r=resolveEasycom(resolveDynamicComponent("uni-forms"),__easycom_10),f=index$g;return openBlock(),createElementBlock("div",{style:{padding:"10rpx 10rpx 180rpx"}},[createVNode(r,{class:"my-form","label-width":140,"label-align":"right",validateTrigger:"blur",ref_key:"formRef",ref:formRef,modelValue:unref(formData),rules:rules.value},{default:withCtx((()=>[createVNode(l,{label:"攻击类型",name:"sh_lx"},{default:withCtx((()=>[createVNode(t,{modelValue:unref(formData).sh_lx,"onUpdate:modelValue":a[0]||(a[0]=e=>unref(formData).sh_lx=e),localdata:Object.values(unref(AttackType))},null,8,["modelValue","localdata"])])),_:1}),createVNode(l,{label:attackerPanelLabel.value,name:"gf_gj"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).gf_gj,"onUpdate:modelValue":a[1]||(a[1]=e=>unref(formData).gf_gj=e)},null,8,["modelValue"])])),_:1},8,["label"]),createVNode(l,{label:defenderPanelLabel.value,name:"sf_fy"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).sf_fy,"onUpdate:modelValue":a[2]||(a[2]=e=>unref(formData).sf_fy=e)},null,8,["modelValue"])])),_:1},8,["label"]),createVNode(l,{label:"攻方技能倍率",name:"gf_jnbl"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).gf_jnbl,"onUpdate:modelValue":a[3]||(a[3]=e=>unref(formData).gf_jnbl=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"通用增减伤%",name:"ty_zjs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).ty_zjs,"onUpdate:modelValue":a[4]||(a[4]=e=>unref(formData).ty_zjs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"技能增减伤%",name:"jn_zjs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).jn_zjs,"onUpdate:modelValue":a[5]||(a[5]=e=>unref(formData).jn_zjs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"远程增减伤%",name:"yc_zjs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).yc_zjs,"onUpdate:modelValue":a[6]||(a[6]=e=>unref(formData).yc_zjs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"其他增减伤%",name:"qt_zjs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).qt_zjs,"onUpdate:modelValue":a[7]||(a[7]=e=>unref(formData).qt_zjs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"攻方攻智克制系数%",name:"gf_gzkzxs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).gf_gzkzxs,"onUpdate:modelValue":a[8]||(a[8]=e=>unref(formData).gf_gzkzxs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"攻方无视防御系数%",name:"gf_wsfyxs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).gf_wsfyxs,"onUpdate:modelValue":a[9]||(a[9]=e=>unref(formData).gf_wsfyxs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"守方双防克制系数%",name:"sf_sfkzxs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).sf_sfkzxs,"onUpdate:modelValue":a[10]||(a[10]=e=>unref(formData).sf_sfkzxs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"守方地形",name:"sf_dxxz"},{default:withCtx((()=>[createVNode(o,{modelValue:unref(formData).sf_dxxz,"onUpdate:modelValue":a[11]||(a[11]=e=>unref(formData).sf_dxxz=e),localdata:unref(TerrainTypeShowList)},null,8,["modelValue","localdata"])])),_:1}),createVNode(l,{label:"攻击系数",name:"gf_gjxs"},{default:withCtx((()=>[createVNode(t,{modelValue:unref(formData).gf_gjxs,"onUpdate:modelValue":a[12]||(a[12]=e=>unref(formData).gf_gjxs=e),localdata:unref(AttackRateShowList)},null,8,["modelValue","localdata"])])),_:1}),createVNode(l,{label:"攻击段数",name:"gf_gjds"},{default:withCtx((()=>[createVNode(t,{modelValue:unref(formData).gf_gjds,"onUpdate:modelValue":a[13]||(a[13]=e=>unref(formData).gf_gjds=e),localdata:unref(AttackSegmentShowList)},null,8,["modelValue","localdata"])])),_:1}),createVNode(l,{label:"攻方爆伤加成%",name:"gf_bs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).gf_bs,"onUpdate:modelValue":a[14]||(a[14]=e=>unref(formData).gf_bs=e)},null,8,["modelValue"])])),_:1}),createVNode(l,{label:"守方减爆伤加成%",name:"sf_jbs"},{default:withCtx((()=>[createVNode(s,{type:"text",modelValue:unref(formData).sf_jbs,"onUpdate:modelValue":a[15]||(a[15]=e=>unref(formData).sf_jbs=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue","rules"]),createVNode(f,{style:{"font-size":"24rpx",color:"#999"}},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(shuoming.value,((e,a)=>(openBlock(),createBlock(f,{key:a},{default:withCtx((()=>[createTextVNode(toDisplayString(e),1)])),_:2},1024)))),128))])),_:1}),createVNode(f,{class:"fixed-bottom-box"},{default:withCtx((()=>[createVNode(f,{class:"average-box"},{default:withCtx((()=>[createVNode(f,null,{default:withCtx((()=>[createTextVNode(" 单段伤害："+toDisplayString(sh_dd.value),1)])),_:1}),createVNode(f,null,{default:withCtx((()=>[createTextVNode(" 总伤害："+toDisplayString(sh_zs.value),1)])),_:1})])),_:1}),createVNode(f,{class:"average-box"},{default:withCtx((()=>[createVNode(f,null,{default:withCtx((()=>[createTextVNode(" 暴击单段伤害："+toDisplayString(bjsh_dd.value),1)])),_:1}),createVNode(f,null,{default:withCtx((()=>[createTextVNode(" 暴击总伤害："+toDisplayString(bjsh_zs.value),1)])),_:1})])),_:1})])),_:1})])}}},jyjsq=_export_sfc(_sfc_main,[["__scopeId","data-v-3656cf3b"]]);export{jyjsq as default};
