import{f as e,o as l,h as a,t,k as u,L as d,E as r,y as n,c as i,aq as o,j as s,w as m,A as c,b as p,ar as v,r as _,as as b,p as f,m as y,at as h,i as x,a as g,z as w,u as j,F as z,s as k,au as V,av as N,U as q}from"./index-D95QR0wg.js";import{r as A,B as U,e as D,s as K,i as I}from"./utils.DL9mp0eE.js";import{_ as S,m as O,k as E,u as B,l as P,n as Q,o as G,p as L,q as M,r as C}from"./hook.n4oSTPf_.js";import{_ as T,a as Y}from"./mz-input.DaMYxwRj.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{B as R}from"./base-divider.BoHhAL9p.js";const Z=F({__name:"show-up",props:{value:{},isPercent:{type:Boolean,default:!1},showClass:{type:String,default:""}},setup(d){const r=d,n=e((()=>r.isPercent?A(100*r.value,2):r.value));return(e,r)=>(l(),a("div",{class:u(["show-up",[d.showClass?d.showClass:d.value>0?"up":d.value<0?"down":""]])},t(n.value)+t(d.isPercent?"%":""),3))}},[["__scopeId","data-v-15ab173b"]]),H={category:{comment:"类别",hidden:!1,read_only:!1,required:!1,type:"String"},defense50:{auto_increment:!1,comment:"50血防御",hidden:!1,read_only:!1,required:!1,type:"Number"},skill50below:{auto_increment:!1,comment:"50血以下技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},lifeGeneral:{auto_increment:!1,comment:"常驻生命",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense:{auto_increment:!1,comment:"魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},lifeFull:{auto_increment:!1,comment:"满血生命",hidden:!1,read_only:!1,required:!1,type:"Number"},updatedAt:{type:"Date"},skill:{auto_increment:!1,comment:"技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},defense80:{auto_increment:!1,comment:"80血防御",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligenceFull:{auto_increment:!1,comment:"满血智力",hidden:!1,read_only:!1,required:!1,type:"Number"},ACL:{type:"ACL"},intelligence50:{auto_increment:!1,comment:"50血智力",hidden:!1,read_only:!1,required:!1,type:"Number"},attackFull:{auto_increment:!1,comment:"满血攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},objectId:{type:"String"},skillFull:{auto_increment:!1,comment:"满血技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense80:{auto_increment:!1,comment:"80血魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligence:{auto_increment:!1,comment:"智力",hidden:!1,read_only:!1,required:!1,type:"Number"},life50:{auto_increment:!1,comment:"50血生命",hidden:!1,read_only:!1,required:!1,type:"Number"},createdAt:{type:"Date"},life50below:{auto_increment:!1,comment:"50血以下生命",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligence50below:{auto_increment:!1,comment:"50血以下智力",hidden:!1,read_only:!1,required:!1,type:"Number"},skill80:{auto_increment:!1,comment:"80血技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},attackGeneral:{auto_increment:!1,comment:"常驻攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},life:{auto_increment:!1,comment:"生命",hidden:!1,read_only:!1,required:!1,type:"Number"},defense:{auto_increment:!1,comment:"防御",hidden:!1,read_only:!1,required:!1,type:"Number"},specialEffects:{comment:"满级特效",hidden:!1,read_only:!1,required:!1,type:"String"},skillGeneral:{auto_increment:!1,comment:"常驻技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefenseFull:{auto_increment:!1,comment:"满血魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense50:{auto_increment:!1,comment:"50血魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},attack80:{auto_increment:!1,comment:"80血攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},defenseFull:{auto_increment:!1,comment:"满血防御",hidden:!1,read_only:!1,required:!1,type:"Number"},life80:{auto_increment:!1,comment:"80血生命",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense50below:{auto_increment:!1,comment:"50血以下魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligenceGeneral:{auto_increment:!1,comment:"常驻智力",hidden:!1,read_only:!1,required:!1,type:"Number"},defenseGeneral:{auto_increment:!1,comment:"常驻防御",hidden:!1,read_only:!1,required:!1,type:"Number"},equipName:{comment:"装备名称",hidden:!1,read_only:!1,required:!1,type:"String"},basicBonus:{comment:"基础加成",hidden:!1,read_only:!1,required:!1,type:"String"},magicDefenseGeneral:{auto_increment:!1,comment:"常驻魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},picAddr:{comment:"图片地址",hidden:!1,read_only:!1,required:!1,type:"String"},attack50below:{auto_increment:!1,comment:"50血以下攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},attack:{auto_increment:!1,comment:"攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},defense50below:{auto_increment:!1,comment:"50血以下防御",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligence80:{auto_increment:!1,comment:"80血智力",hidden:!1,read_only:!1,required:!1,type:"Number"},attack50:{auto_increment:!1,comment:"50血攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},skill50:{auto_increment:!1,comment:"50血技巧",hidden:!1,read_only:!1,required:!1,type:"Number"}},W={__name:"mz-number-input",props:d({min:{type:Number,default:0},isPercent:{type:Boolean,default:!1},size:{type:String,default:"small"}},{modelValue:{type:Number,default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const t=r(a,"modelValue"),u=a,d=e((()=>u.isPercent?new U(t.value||0).times(100).toNumber():Number(t.value)||0)),_=e=>{if(!u.isPercent)return t.value=Number(e);t.value=new U(e||0).div(100).toNumber()};return(e,t)=>{const r=n("el-input-number");return l(),i(r,v(e.$attrs,{size:a.size,"model-value":d.value,min:u.min,onChange:_}),o({_:2},[s(Object.entries(e.$slots).filter((([e,l])=>l)),(([l,a])=>({name:l,fn:m((()=>[c(e.$slots,l)]))}))),u.isPercent?{name:"suffix",fn:m((()=>[p(" % ")])),key:"0"}:void 0]),1040,["size","model-value","min"])}}},X=""+new URL("自定义英雄头像-Duvo-UD5.png",import.meta.url).href,J=""+new URL("武器未佩戴-BD54oIdM.png",import.meta.url).href,$=""+new URL("衣服未佩戴-CqRjrCdE.png",import.meta.url).href,ee=""+new URL("头饰未佩戴-CppgXd6w.png",import.meta.url).href,le=""+new URL("饰品未佩戴-apUt05Sa.png",import.meta.url).href,ae="langrissar-calculator-mbjs-el-",te=F({__name:"mbjs-el",setup(u){const d=_([]),r=_({});b((()=>{(()=>{const e={heroName:"英雄名",occupation:"职业名",life:"生命",attack:"攻击",intelligence:"智力",defense:"防御",magicDefense:"魔防",skill:"技巧",zwLife:"铸纹生命",zwAttack:"铸纹攻击",zwIntelligence:"铸纹智力",zwDefense:"铸纹防御",zwMagicDefense:"铸纹魔防",zwSkill:"铸纹技巧",logo:"英雄头像",zwTxLife:"铸纹特效生命",zwTxAttack:"铸纹特效攻击",zwTxIntelligence:"铸纹特效智力",zwTxDefense:"铸纹特效防御",zwTxMagicDefense:"铸纹特效魔防",zwTxSkill:"铸纹特效技巧",soldierLifeAdd:"兵修生命",soldierAttackAdd:"兵修攻击",soldierDefenseAdd:"兵修防御",soldierMagicDefenseAdd:"兵修魔防",fettersLv4:"心之羁绊4",fettersLv7:"心之羁绊7",occupationType:"职业"};new h.Query("HeroBasicAttr").limit(1e3).find().then((l=>{const a=l.map((l=>("自定义英雄"===l.attributes.heroName&&(l.attributes.logo=X,l.attributes.occupationPic="data:image/png;base64,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"),{...Object.entries(l.attributes).reduce(((l,[a,t])=>(e[a]&&(l[e[a]]=t),l)),{}),...l.attributes})));d.value=Object.entries(S.groupBy(a,"英雄名")).map((([e,l])=>({"英雄名":e,list:l}))),console.log(d.value)})).catch((e=>{console.log("查询失败",e)}))})(),(()=>{const e=H,l=Object.keys(e).reduce(((l,a)=>(l[a]=e[a].comment,l)),{});new h.Query("EquipDetail").limit(1e3).find().then((e=>{const a=l,t={"武器无":J,"衣服无":$,"头饰无":ee,"饰品无":le},u=e.map((e=>(t[e.attributes.equipName]&&(e.attributes.picAddr=t[e.attributes.equipName]),{...Object.entries(e.attributes).reduce(((e,[l,t])=>(a[l]&&(e[a[l]]=t),e)),{}),...e.attributes})));r.value=S.groupBy(u,"类别"),console.log(r.value)})).catch((e=>{console.log("查询失败",e)}))})()})),b((()=>{}));const o={"生命":500,"攻击":60,"智力":60,"防御":50,"魔防":50,"技巧":80},c=[{prop:"生命",zhKey:"yx_sm_fj",zhValueKey:"yx_sm_zhxs",tdKey:"yx_sm_dt",tdValueKey:"yx_sm_dtxs"},{prop:"攻击",zhKey:"yx_gj_fj",zhValueKey:"yx_gj_zhxs",tdKey:"yx_gj_dt",tdValueKey:"yx_gj_dtxs"},{prop:"智力",zhKey:"yx_zl_fj",zhValueKey:"yx_zl_zhxs",tdKey:"yx_zl_dt",tdValueKey:"yx_zl_dtxs"},{prop:"防御",zhKey:"yx_fy_fj",zhValueKey:"yx_fy_zhxs",tdKey:"yx_fy_dt",tdValueKey:"yx_fy_dtxs"},{prop:"魔防",zhKey:"yx_mf_fj",zhValueKey:"yx_mf_zhxs",tdKey:"yx_mf_dt",tdValueKey:"yx_mf_dtxs"},{prop:"技巧",zhKey:"yx_jq_fj",zhValueKey:"yx_jq_zhxs",tdKey:"yx_jq_dt",tdValueKey:"yx_jq_dtxs"}],v={selected_hero_row:"",selected_job:"",bz_input_can_edit:!1,bz:S.cloneDeep(O),yx_wq:"无",yx_yf:"无",yx_ts:"无",yx_sp:"无",gm_fm_1:"",gm_fm_2:"",fm_input:E,zyjt_input_can_edit:!1,zyjt:S.cloneDeep(O),zw_input_can_edit:!1,zw:S.cloneDeep(O),selected_sq:"",sdsr_pd:!0,bjl:S.cloneDeep(O),jjjt_sfm:!0,jjjt:S.cloneDeep(o),jjc_pd:!0,bdxl_pd:"满血",zb_tx:S.cloneDeep(O),zc_qt_jc:S.cloneDeep(O),cj_pd:!1,zh_pd_fj:!1,zh_pd_dt:!1,...c.reduce(((e,l)=>(e[l.zhKey]=!1,e[l.zhValueKey]={},e[l.tdKey]=!1,e[l.tdValueKey]={},e)),{}),fm4jc:{},zwtxjc:{}},F=B(`${ae}formData`,JSON.parse(JSON.stringify(v))),te=()=>{F.value=JSON.parse(JSON.stringify(v))},ue=e((()=>({...F.value})));e((()=>({...ue.value}))),f((()=>F.value.selected_hero_row),(()=>{var e;F.value.selected_job=null==(e=de.value)?void 0:e.list[0].职业名}));const de=e((()=>{const e=F.value.selected_hero_row;return d.value.find((l=>l.英雄名===e))})),re=e((()=>{var e,l,a;const t=null==(e=F.value)?void 0:e.selected_job;return null==(a=null==(l=de.value)?void 0:l.list)?void 0:a.find((e=>e.职业名===t))}));f((()=>F.value.selected_job),(()=>{F.value.bz_input_can_edit=!1})),y((()=>{F.value.bz_input_can_edit||(()=>{const e=P;F.value.bz=e.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=re.value)?void 0:a[l])||0,e}),{})})()}));y((()=>{F.value.zyjt_input_can_edit||(F.value.zyjt={"生命":750,"攻击":80,"智力":80,"防御":60,"魔防":60,"技巧":80})}));y((()=>{F.value.zw_input_can_edit||(()=>{const e=P;F.value.zw=e.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=re.value)?void 0:a[`铸纹${l}`]),e}),{})})()}));const ne=["士兵生命","士兵攻击","士兵防御","士兵魔防"],ie=["生命","攻击","智力","防御","魔防","技巧"],oe=[...ie,...ne],se=()=>oe.reduce(((e,l)=>(e[l]=0,e)),{}),me=B(`${ae}sq_cxzz`,se()),ce=oe.map((e=>({label:e,key:e}))),pe=()=>{D({data:[me.value],exportOption:ce,sheetName:"Sheet1",bookName:"神契晨曦之祝加成"})},ve=()=>{K().then((e=>{I({file:e,importOption:ce,sheetName:"Sheet1"}).then((e=>{me.value=e[0]}))})).catch((()=>{N.error("导入失败")}))},_e=B(`${ae}sq_filter_data`,[]),be=e((()=>{const e=[{"名称":"神契晨曦之祝加成"}];return C.forEach((l=>{e.push(l),e.push({"名称":`${l.名称}总加成`,"原名":l.名称,isTotal:!0,...oe.reduce(((e,a)=>{var t;return e[a]=new U(null==(t=me.value)?void 0:t[a]).plus(l[a]||0).toNumber(),e}),{})})})),e})),fe=e((()=>{if(_e.value.length){const e=S.difference(Object.keys(Q),_e.value);return be.value.filter((l=>!e.find((e=>-1!==l.名称.indexOf(e)))))}return be.value})),ye=({row:e,rowIndex:l})=>e.isTotal?"total-row":"",he={"武器":"yx_wq","衣服":"yx_yf","头饰":"yx_ts","饰品":"yx_sp"},xe=e((()=>Object.keys(he).reduce(((e,l)=>{const a=r.value[l];return e[l]=(null==a?void 0:a.find((e=>{var a;return e["装备名称"]===(null==(a=F.value)?void 0:a[he[l]])})))||(null==a?void 0:a[0]),e}),{}))),ge=e((()=>L.find((e=>e.value===F.value.gm_fm_1)))),we=e((()=>L.find((e=>e.value===F.value.gm_fm_2)))),je=e((()=>{const e=M.filter((e=>"部位"!==e.label)),l={};e.forEach((e=>{var a,t,u,d,r,n,i,o;const s=e.prop;(null==(a=ge.value)?void 0:a.value)!==(null==(t=we.value)?void 0:t.value)?l[s]=((null==(d=null==(u=ge.value)?void 0:u.gm)?void 0:d[s])||0)+((null==(n=null==(r=we.value)?void 0:r.gm)?void 0:n[s])||0):l[s]=(null==(o=null==(i=ge.value)?void 0:i.gm)?void 0:o[s])||0}));const a=[...F.value.fm_input,{"部位":"共鸣",...l}],t={};e.forEach((e=>{const l=e.prop;t[l]=a.reduce(((e,a)=>new U(e).plus(a[l]||0).toNumber()),0)}));const u={"部位":"总加成",...t};return[...a,u]})),ze=e((()=>{if(F.value.selected_sq&&"未携带"!==F.value.selected_sq){return be.value.find((e=>e.原名===F.value.selected_sq))||se()}return se()})),ke=e((()=>P.reduce(((e,l)=>(e[l]=Object.keys(he).reduce(((e,a)=>{var t,u;const d=(null==(u=null==(t=xe.value)?void 0:t[a])?void 0:u[l])||0;return new U(e).plus(d).toNumber()}),0),e)),{}))),Ve=e((()=>{const e=je.value.filter((e=>"总加成"===e.部位))[0];return["生命","攻击","智力","防御","魔防"].reduce(((l,a)=>(l.fm_bfb[a]=e[`${a}百分比`]||0,l.fm_gdz[a]=e[`${a}固定值`]||0,l)),{fm_gdz:{},fm_bfb:{}})})),Ne=e((()=>({zb_jc:ke.value,bz:F.value.bz,fm_bfb:Ve.value.fm_bfb,fm_gdz:Ve.value.fm_gdz,zyjt:F.value.zyjt,zw:F.value.zw,sq_zjc:ze.value}))),qe=e((()=>{const{zb_jc:e,bz:l,fm_bfb:a,fm_gdz:t,zyjt:u,zw:d,sq_zjc:r}=Ne.value;return{"生命":A(e["生命"]+l["生命"]*a["生命"]+t["生命"]+u["生命"]+d["生命"]+r["生命"],1),"攻击":A(e["攻击"]+l["攻击"]*a["攻击"]+t["攻击"]+u["攻击"]+d["攻击"]+r["攻击"],1),"智力":A(e["智力"]+l["智力"]*a["智力"]+t["智力"]+u["智力"]+d["智力"]+r["智力"],1),"防御":A(e["防御"]+l["防御"]*a["防御"]+t["防御"]+u["防御"]+d["防御"]+r["防御"],1),"魔防":A(e["魔防"]+l["魔防"]*a["魔防"]+t["魔防"]+u["魔防"]+d["魔防"]+r["魔防"],1),"技巧":A(e["技巧"]+u["技巧"]+d["技巧"]+r["技巧"],1)}})),Ae=[{label:"",prop:"mb_key"},{label:"合计",prop:"total"},{label:"装备基础",prop:"zb_jc"},{label:"附魔百分比",prop:"fm_bfb"},{label:"附魔百分比*白字",prop:"fm_bfb*bz"},{label:"附魔固定值",prop:"fm_gdz"},{label:"职业精通",prop:"zyjt"},{label:"铸纹",prop:"zw"},{label:"神契",prop:"sq_zjc"}],Ue=e((()=>P.reduce(((e,l)=>{const{zb_jc:a,bz:t,fm_bfb:u,fm_gdz:d,zyjt:r,zw:n,sq_zjc:i}=["bz","zb_jc","fm_bfb","fm_bfb","fm_gdz","zyjt","zw","sq_zjc"].reduce(((e,a)=>(e[a]=Ne.value[a][l],e)),{}),o="技巧"===l;return e.push({mb_key:l,total:qe.value[l],zb_jc:a,fm_bfb:o?"-":new U(u||0).times(100).toString()+"%","fm_bfb*bz":o?"-":new U(u||0).times(t||0).toString(),fm_gdz:o?"-":d,zyjt:r,zw:n,sq_zjc:i}),e}),[])));y((()=>{F.value.sdsr_pd&&(F.value.bjl=P.reduce(((e,l)=>(e[l]=F.value.bz[l]+qe.value[l],e)),{}))}));y((()=>{F.value.jjjt_sfm&&(F.value.jjjt=S.cloneDeep(o))}));const De=[{label:" ",prop:"bw",fixed:!0,width:100},{label:"装备特效",prop:"zb_tx",width:140},{label:"附魔共鸣",prop:"fm_jc",width:140},{label:"超绝特效",prop:"cj_tx",width:100},{label:"铸纹特效",prop:"zw_tx",width:200},{label:"战场其他加成（手输）",prop:"zc_qt_jc",width:200},{label:"总加成",prop:"total",width:100}],Ke=e((()=>P.reduce(((e,l)=>(e[l]=Object.keys(xe.value).reduce(((e,a)=>{var t,u,d,r,n,i,o,s;let m=Number(null==(t=xe.value[a])?void 0:t[`常驻${l}`])||0,c=0,p=0,v=0,_=0;switch(F.value.bdxl_pd){case"50%以下":_=Number(null==(u=xe.value[a])?void 0:u[`50血以下${l}`])||0;break;case"50%以上但80%以下":v=Number(null==(d=xe.value[a])?void 0:d[`50血${l}`])||0;break;case"80%以上但未满血":p=Number(null==(r=xe.value[a])?void 0:r[`80血${l}`])||0,v=Number(null==(n=xe.value[a])?void 0:n[`50血${l}`])||0;break;default:c=Number(null==(i=xe.value[a])?void 0:i[`满血${l}`])||0,p=Number(null==(o=xe.value[a])?void 0:o[`80血${l}`])||0,v=Number(null==(s=xe.value[a])?void 0:s[`50血${l}`])||0}return e+m+c+v+_+p}),0),e)),{}))),Ie=e((()=>P.map((e=>{var l,a,t,u,d;const r=Ke.value[e]||0,n=Number(null==(l=Se.value)?void 0:l[e])||0,i=Number(null==(a=F.value.fm4jc)?void 0:a[e])||0,o=Number(null==(t=F.value.zwtxjc)?void 0:t[e])||0;let s=r+n+i+(Number(null==(d=null==(u=F.value)?void 0:u.zc_qt_jc)?void 0:d[e])||0)+o;return"生命"===e&&F.value.jjc_pd&&(s+=.4),{prop:e,total:A(s,3)}})))),Se=e((()=>F.value.cj_pd?{"攻击":.2,"智力":.2,"防御":.2,"魔防":.3}:{"攻击":0,"智力":0,"防御":0,"魔防":0}));y((()=>{var e,l,a;if(F.value.sdsr_pd){let t={};if((null==(e=ge.value)?void 0:e.value)===(null==(l=we.value)?void 0:l.value))switch(null==(a=ge.value)?void 0:a.value){case"满月":"满血"!==F.value.bdxl_pd&&"80%以上但未满血"!==F.value.bdxl_pd||(t={"攻击":.1,"智力":.1,"防御":.1,"魔防":.1});break;case"怒涛":t={"攻击":.1};break;case"大树":t={"防御":.05,"魔防":.05}}F.value.fm4jc=t,re.value&&(console.log(re.value),F.value.zwtxjc=P.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=re.value)?void 0:a[`铸纹特效${l}`]),e}),{}))}}));const Oe=e((()=>Ie.value.reduce(((e,l)=>(e[l.prop]=l.total,e)),{}))),Ee=e((()=>{const e=F.value.jjc_pd,l=F.value.bjl,a=F.value.jjjt,t=Oe.value;return P.reduce(((u,d)=>{let r=l[d]*(1+t[d]);return e&&(r+=a[d]),u[d]=A(r,3),u}),{})})),Be=e((()=>{const e=F.value,l=Ee.value;let a={};return e.zh_pd_fj&&(a=P.reduce(((a,t)=>(a[t]=c.filter((e=>e.prop!==t)).reduce(((a,u)=>(e[u.zhKey]&&(a=new U(l[u.prop]).times(e[u.zhValueKey][t]).plus(a).toNumber()),a)),0),a)),{})),a})),Pe=e((()=>{const e=F.value,l=Ee.value;let a={};return e.zh_pd_dt&&(a=P.reduce(((a,t)=>(a[t]=c.filter((e=>e.prop!==t)).reduce(((a,u)=>(e[u.tdKey]&&(a=new U(l[u.prop]).times(e[u.tdValueKey][t]).plus(a).toNumber()),a)),0),a)),{})),a})),Qe=e((()=>{const e={...Ee.value};return Object.keys(Pe.value).forEach((l=>{Pe.value[l]&&(e[l]=Pe.value[l])})),P.reduce(((l,a)=>(l[a]=A(e[a]+(Be.value[a]||0),1),l)),{})})),Ge=_(!1),Le=_(!1),Me=_(""),Ce=_([]),Te=e=>{var l,a;const t=d.value.find((l=>l.英雄名===(null==e?void 0:e.selected_hero_row)));return null==(a=null==(l=null==t?void 0:t.list)?void 0:l[0])?void 0:a.英雄头像},Ye=()=>{Ge.value=!0},Fe=()=>{if(!Me.value)return void N.warning("请输入缓存名称");const e=`${ae}hero_cache`,l=JSON.parse(localStorage.getItem(e)||"[]");l.push({name:Me.value,data:F.value,timestamp:Date.now()}),localStorage.setItem(e,JSON.stringify(l)),N.success("保存成功"),Ge.value=!1,Me.value=""},Re=()=>{const e=`${ae}hero_cache`;Ce.value=JSON.parse(localStorage.getItem(e)||"[]"),Le.value=!0};return(e,u)=>{const o=n("el-button"),v=n("el-affix"),_=n("el-option"),b=n("el-select"),f=n("el-form-item"),y=n("el-checkbox"),h=n("el-input-number"),D=n("el-card"),K=n("el-table-column"),I=n("el-table"),O=n("el-tab-pane"),E=n("el-radio"),B=n("el-radio-group"),C=n("el-tabs"),H=n("el-collapse-item"),X=n("el-collapse"),J=n("el-divider"),$=n("el-form"),ee=n("el-backtop"),le=n("el-input"),ue=n("el-dialog"),oe=x;return l(),i(oe,{class:"mbjs-el",style:{padding:"24px"}},{default:m((()=>[g(o,{class:"mb_16",type:"primary",onClick:te},{default:m((()=>[p("重置数据")])),_:1}),g(v,null,{default:m((()=>[w("div",{class:"mb_16",flex:"main:right"},[g(o,{onClick:Ye},{default:m((()=>[p("缓存英雄数据")])),_:1}),g(o,{type:"primary",class:"ml_8",onClick:Re},{default:m((()=>[p("使用缓存")])),_:1})])])),_:1}),g($,{style:{"min-width":"600px"},"label-width":"120px",class:"base-el-form","label-position":"right",inline:!0,model:j(F)},{default:m((()=>[g(D,{class:"mb_16"},{header:m((()=>[p(" 英雄白字区 ")])),default:m((()=>{var e,r,n,o;return[w("div",{flex:""},[w("div",{flex:"",class:"mr_16"},[w("div",{"flex-box":"0"},[g(f,{label:"选择英雄名"},{default:m((()=>[g(b,{modelValue:j(F).selected_hero_row,"onUpdate:modelValue":u[0]||(u[0]=e=>j(F).selected_hero_row=e),filterable:""},{default:m((()=>[(l(!0),a(z,null,s(d.value,((e,a)=>(l(),i(_,{value:e.英雄名,key:a,label:e.英雄名},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),w("br"),g(f,{label:"选择职业"},{default:m((()=>[g(b,{modelValue:j(F).selected_job,"onUpdate:modelValue":u[1]||(u[1]=e=>j(F).selected_job=e),filterable:""},{default:m((()=>{var e;return[(l(!0),a(z,null,s(null==(e=de.value)?void 0:e.list,((e,a)=>(l(),i(_,{value:e.职业名,key:a,label:e.职业名},null,8,["value","label"])))),128))]})),_:1},8,["modelValue"])])),_:1}),re.value?(l(),a("div",{key:0,flex:""},[w("div",{flex:"dir:top cross:center"},[w("img",{style:{width:"120px",height:"120px",display:"block"},src:null==(e=re.value)?void 0:e["英雄头像"],alt:""},null,8,["src"]),w("div",null,t(null==(r=re.value)?void 0:r["英雄名"]),1)]),w("div",{class:"ml_16",flex:"dir:top cross:center"},[w("img",{style:{width:"40px",height:"40px",display:"block"},src:null==(n=re.value)?void 0:n.occupationPic,alt:""},null,8,["src"]),w("div",null,t(null==(o=re.value)?void 0:o.occupation),1)])])):k("",!0)])]),w("div",null,[g(f,{label:" "},{default:m((()=>[g(y,{modelValue:j(F).bz_input_can_edit,"onUpdate:modelValue":u[2]||(u[2]=e=>j(F).bz_input_can_edit=e),label:"是否自定义白字"},null,8,["modelValue"])])),_:1}),w("br"),(l(!0),a(z,null,s(j(P),((e,t)=>(l(),a(z,{key:t},[g(f,{label:e},{default:m((()=>[g(h,{disabled:!j(F).bz_input_can_edit,modelValue:j(F).bz[e],"onUpdate:modelValue":l=>j(F).bz[e]=l,min:0},null,8,["disabled","modelValue","onUpdate:modelValue"])])),_:2},1032,["label"]),w("br")],64)))),128))])])]})),_:1}),g(D,{class:"mb_16"},{header:m((()=>[w("div",{flex:"cross:center"},[w("div",null," 神契设置区 "),w("div",{style:{"margin-left":"auto"}},[g(o,{onClick:pe},{default:m((()=>[p("导出神契设置")])),_:1}),g(o,{type:"primary",onClick:ve},{default:m((()=>[p("导入神契设置")])),_:1})])])])),default:m((()=>[w("div",null,[g(f,{label:"筛选神契"},{default:m((()=>[g(b,{style:{"min-width":"300px"},modelValue:j(_e),"onUpdate:modelValue":u[3]||(u[3]=e=>V(_e)?_e.value=e:null),filterable:"",multiple:"",clearable:""},{default:m((()=>[(l(!0),a(z,null,s(Object.keys(j(Q)),((e,a)=>(l(),i(_,{value:e,key:a,label:e},{default:m((()=>[w("div",{flex:"cross:center"},[w("img",{class:"mr_16",style:{width:"30px",height:"30px"},src:j(Q)[e].image,alt:""},null,8,["src"]),w("div",null,t(e),1)])])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})]),g(I,{border:"",size:"small","row-class-name":ye,data:fe.value},{default:m((()=>[(l(!0),a(z,null,s(j(G),((e,u)=>(l(),i(K,{fixed:e.fixed,key:u,width:e.width,label:e.label,prop:e.prop},{default:m((u=>{var d,r,n;return["神契晨曦之祝加成"===(null==(d=u.row)?void 0:d.名称)&&"名称"!==e.prop?(l(),a(z,{key:0},[w("div",{style:{color:"#999"}}," 最大值"+t(e.max),1),g(W,{style:{width:"120px"},max:e.max,modelValue:j(me)[e.prop],"onUpdate:modelValue":l=>j(me)[e.prop]=l,"is-percent":e.isPercent,min:0},null,8,["max","modelValue","onUpdate:modelValue","is-percent"])],64)):(l(),a(z,{key:1},["名称"===e.prop?(l(),a("div",{key:0,flex:"cross:center"},[(null==(r=j(Q)[u.row[e.prop]])?void 0:r.image)?(l(),a("img",{key:0,style:{width:"30px",height:"30px"},class:"mr_8",src:null==(n=j(Q)[u.row[e.prop]])?void 0:n.image,alt:""},null,8,["src"])):k("",!0),w("div",null,t(u.row[e.prop]),1)])):e.isPercent?(l(),a("span",{key:1},t(new(j(U))(u.row[e.prop]).times(100).toString())+"%",1)):(l(),a("span",{key:2},t(u.row[e.prop]),1))],64))]})),_:2},1032,["fixed","width","label","prop"])))),128))])),_:1},8,["data"])])),_:1}),g(D,{class:"mb_16"},{header:m((()=>[p(" 英雄绿字区 ")])),default:m((()=>[g(C,{"model-value":"装备",style:{"min-height":"300px"}},{default:m((()=>[g(O,{class:"item-w-340",label:"装备",name:"装备"},{default:m((()=>[w("div",{flex:""},[w("div",null,[(l(),a(z,null,s(he,((e,u)=>(l(),a(z,{key:u},[g(f,{label:"请选择"+u},{default:m((()=>{var d,n,o,c;return[g(b,{modelValue:j(F)[e],"onUpdate:modelValue":l=>j(F)[e]=l,filterable:""},{default:m((()=>[(l(!0),a(z,null,s(r.value[u],((e,a)=>(l(),i(_,{key:a,label:e.装备名称,value:e.装备名称},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),w("div",null,[w("img",{style:{width:"100px",height:"auto"},class:"mt_8",src:null==(d=xe.value[u])?void 0:d.picAddr,alt:""},null,8,["src"]),w("div",{style:{color:"#31333f99"}},t(null==(n=xe.value[u])?void 0:n.equipName),1),w("div",null,[p(" 基础加成："),w("span",{style:{color:"green"}},t(null==(o=xe.value[u])?void 0:o.basicBonus),1)]),w("div",null,[p(" 满级特效："),w("span",{class:"orange"},t(null==(c=xe.value[u])?void 0:c.specialEffects),1)])])]})),_:2},1032,["label"]),w("br")],64)))),64))]),w("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(z,null,s(j(P),(e=>(l(),a("div",{class:"item",key:e},[w("div",{class:"label",style:{width:"100px"}},t(e),1),w("div",{class:"value"}," +"+t(ke.value[e]),1)])))),128))])])])),_:1}),g(O,{class:"item-w-200",label:"附魔",name:"附魔"},{default:m((()=>[w("div",null,[g(f,{label:"第一个共鸣2件套"},{default:m((()=>{var e;return[g(b,{class:"mb_8",modelValue:j(F).gm_fm_1,"onUpdate:modelValue":u[4]||(u[4]=e=>j(F).gm_fm_1=e),filterable:""},{default:m((()=>[(l(!0),a(z,null,s(j(L),((e,u)=>(l(),i(_,{key:u,label:e.label,value:e.value},{default:m((()=>[w("div",{flex:"cross:center"},[e.image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:e.image,alt:""},null,8,["src"])):k("",!0),w("div",null,t(e.label),1)])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),w("div",{flex:"cross:center main:center",style:{width:"100%","min-height":"50px"}},[(null==(e=ge.value)?void 0:e.image)?(l(),a(z,{key:0},s(2,(e=>{var l;return w("img",{key:e,style:{width:"50px",height:"50px",margin:"0 auto"},src:null==(l=ge.value)?void 0:l.image,alt:""},null,8,["src"])})),64)):k("",!0)])]})),_:1}),g(f,{label:"第二个共鸣2件套"},{default:m((()=>{var e;return[g(b,{class:"mb_8",modelValue:j(F).gm_fm_2,"onUpdate:modelValue":u[5]||(u[5]=e=>j(F).gm_fm_2=e),filterable:""},{default:m((()=>[(l(!0),a(z,null,s(j(L),((e,u)=>(l(),i(_,{key:u,label:e.label,value:e.value},{default:m((()=>[w("div",{flex:"cross:center"},[e.image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:e.image,alt:""},null,8,["src"])):k("",!0),w("div",null,t(e.label),1)])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),w("div",{flex:"cross:center main:center",style:{width:"100%","min-height":"50px"}},[(null==(e=we.value)?void 0:e.image)?(l(),a(z,{key:0},s(2,(e=>{var l;return w("img",{key:e,style:{width:"50px",height:"50px",margin:"0 auto"},src:null==(l=we.value)?void 0:l.image,alt:""},null,8,["src"])})),64)):k("",!0)])]})),_:1})]),g(R),g(I,{data:je.value},{default:m((()=>[(l(!0),a(z,null,s(j(M),((e,u)=>(l(),i(K,{key:u,width:e.width,fixed:e.fixed,label:e.label,prop:e.prop},{default:m((u=>{var d,r,n,o,s;return["部位"===e.label?(l(),a(z,{key:0},[p(t(u.row.部位),1)],64)):(l(),a(z,{key:1},["共鸣"===(null==(d=u.row)?void 0:d.部位)&&-1!==e.prop.indexOf("固定值")?(l(),a("div",{key:0,style:{"text-align":"center","margin-left":"-20px"}},"-")):(l(),i(W,{key:1,style:{width:"100px"},disabled:"共鸣"===(null==(r=u.row)?void 0:r.部位)||"总加成"===(null==(n=u.row)?void 0:n.部位),"is-percent":e.isPercent,modelValue:u.row[e.prop],"onUpdate:modelValue":l=>u.row[e.prop]=l,max:(null==(s=e.maxList)?void 0:s[null==(o=u.row)?void 0:o.部位])||1/0},null,8,["disabled","is-percent","modelValue","onUpdate:modelValue","max"]))],64))]})),_:2},1032,["width","fixed","label","prop"])))),128))])),_:1},8,["data"])])),_:1}),g(O,{label:"职业精通",name:"职业精通"},{default:m((()=>[w("div",{flex:"cross:top"},[g(f,{style:{display:"unset"},"label-position":"top",label:"职业精通是否满值"},{default:m((()=>[g(B,{modelValue:j(F).zyjt_input_can_edit,"onUpdate:modelValue":u[6]||(u[6]=e=>j(F).zyjt_input_can_edit=e)},{default:m((()=>[g(E,{value:!1,label:"默认满"}),w("br"),g(E,{value:!0,label:"自定义"})])),_:1},8,["modelValue"])])),_:1}),w("div",null,[(l(!0),a(z,null,s(j(P),((e,a)=>(l(),i(f,{key:a,label:e+"-职业精通"},{default:m((()=>[g(T,{disabled:!j(F).zyjt_input_can_edit,prop:e,formData:j(F).zyjt},null,8,["disabled","prop","formData"])])),_:2},1032,["label"])))),128))])])])),_:1}),g(O,{label:"铸纹",name:"铸纹"},{default:m((()=>[w("div",{flex:"cross:top"},[g(f,{class:"item-w-200",style:{display:"unset"},"label-width":200,"label-position":"top",label:"选择铸纹类型（默认满级）"},{default:m((()=>[g(B,{modelValue:j(F).zw_input_can_edit,"onUpdate:modelValue":u[7]||(u[7]=e=>j(F).zw_input_can_edit=e)},{default:m((()=>[g(E,{value:!1,label:"默认关联选择的英雄"}),w("br"),g(E,{value:!0,label:"自定义铸纹"})])),_:1},8,["modelValue"])])),_:1}),w("div",null,[(l(!0),a(z,null,s(j(P),((e,a)=>(l(),i(f,{key:a,label:e+"-职业精通"},{default:m((()=>[g(T,{disabled:!j(F).zw_input_can_edit,prop:e,formData:j(F).zw},null,8,["disabled","prop","formData"])])),_:2},1032,["label"])))),128))])])])),_:1}),g(O,{label:"神契",name:"神契"},{default:m((()=>[w("div",{flex:""},[w("div",{style:{width:"400px"}},[w("div",{class:"error mb_16",style:{"font-size":"20px"}}," 请提前在「神契设置区」设置好神契 "),g(f,{style:{width:"100%"},label:"请选择神契"},{default:m((()=>[g(b,{modelValue:j(F).selected_sq,"onUpdate:modelValue":u[8]||(u[8]=e=>j(F).selected_sq=e),filterable:"",clearable:""},{default:m((()=>[g(_,{value:"未携带",label:"未携带"}),(l(!0),a(z,null,s(Object.keys(j(Q)),((e,u)=>(l(),i(_,{value:e,key:u,label:e},{default:m((()=>[w("div",{flex:"cross:center"},[j(Q)[e].image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:j(Q)[e].image,alt:""},null,8,["src"])):k("",!0),w("div",null,t(e),1)])])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),g(f,{label:" "},{default:m((()=>{var e,t;return[(null==(e=j(Q)[j(F).selected_sq])?void 0:e.image)?(l(),a("img",{key:0,style:{display:"block",width:"100px",height:"100px"},src:null==(t=j(Q)[j(F).selected_sq])?void 0:t.image,alt:""},null,8,["src"])):k("",!0)]})),_:1})]),w("div",{class:"green-list",style:{"max-width":"400px"}},[(l(),a(z,null,s(ie,(e=>w("div",{class:"item",key:e},[w("div",{class:"label",style:{width:"100px"}},t(e),1),w("div",{class:"value"}," +"+t(ze.value[e]),1)]))),64)),(l(),a(z,null,s(ne,(e=>w("div",{class:"item",key:e},[w("div",{class:"label",style:{width:"100px"}},t(e),1),w("div",{class:"value"}," +"+t(j(A)(100*ze.value[e],3))+"% ",1)]))),64))])])])),_:1}),g(O,{label:"绿字总加成",name:"绿字总加成"},{default:m((()=>[w("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(z,null,s(qe.value,((e,u)=>(l(),a("div",{class:"item",key:u},[w("div",{class:"label",style:{width:"100px"}},t(u),1),w("div",{class:"value"}," +"+t(e),1)])))),128))])])),_:1})])),_:1})])),_:1}),g(D,{class:"mb_16"},{header:m((()=>[p("英雄绿字加成统计表")])),default:m((()=>{var e;return[g(I,{class:"mb_16",data:Ue.value},{default:m((()=>[(l(),a(z,null,s(Ae,((e,l)=>g(K,{prop:e.prop,label:e.label,key:l},null,8,["prop","label"]))),64))])),_:1},8,["data"]),w("div",{flex:""},[re.value?(l(),a("img",{key:0,style:{width:"120px",height:"120px",margin:"16px",display:"block"},src:null==(e=re.value)?void 0:e["英雄头像"],alt:""},null,8,["src"])):k("",!0),w("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(z,null,s(j(P),(e=>(l(),a("div",{class:"item",style:{width:"300px"},key:e},[w("div",{class:"label",style:{width:"100px"}},t(e),1),w("div",{class:"value",flex:"",style:{gap:"8px"}},[w("div",{style:{color:"#333"}},t(j(F).bz[e]),1),w("div",null,"+"),w("div",null,t(qe.value[e]),1)])])))),128))])])]})),_:1}),g(D,{class:"mb_16"},{header:m((()=>[p(" 英雄战场面板模拟 ")])),default:m((()=>[w("div",{flex:"",style:{gap:"16px"}},[g(D,null,{header:m((()=>[p(" 英雄的白+绿面板 ")])),default:m((()=>[w("div",{style:{width:"500px"}},[g(y,{class:"mb_16",modelValue:j(F).sdsr_pd,"onUpdate:modelValue":u[9]||(u[9]=e=>j(F).sdsr_pd=e),label:"默认关联读取以上英雄模拟结果 (想手动输入 进行下面模拟 就取消勾选)"},null,8,["modelValue"]),w("br"),(l(!0),a(z,null,s(j(P),((e,t)=>(l(),a(z,{key:t},[g(f,{label:e},{default:m((()=>[g(T,{disabled:j(F).sdsr_pd,prop:e,"form-data":j(F).bjl},null,8,["disabled","prop","form-data"])])),_:2},1032,["label"]),w("br")],64)))),128))])])),_:1}),g(D,null,{header:m((()=>[p(" 英雄竞技精通区 ")])),default:m((()=>[w("div",{style:{width:"500px"}},[g(y,{class:"mb_16",modelValue:j(F).jjjt_sfm,"onUpdate:modelValue":u[10]||(u[10]=e=>j(F).jjjt_sfm=e),label:"竞技精通是否满值 (想手动输入 就取消勾选)"},null,8,["modelValue"]),w("br"),(l(!0),a(z,null,s(j(P),((e,t)=>(l(),a(z,{key:t},[g(f,{label:e},{default:m((()=>[g(T,{disabled:j(F).jjjt_sfm,prop:e,"form-data":j(F).jjjt},null,8,["disabled","prop","form-data"])])),_:2},1032,["label"]),w("br")],64)))),128))])])),_:1})])])),_:1}),g(D,{class:"mb_16"},{default:m((()=>[g(f,{label:"是否竞技场"},{default:m((()=>[g(B,{modelValue:j(F).jjc_pd,"onUpdate:modelValue":u[11]||(u[11]=e=>j(F).jjc_pd=e)},{default:m((()=>[g(E,{value:!0},{default:m((()=>[p("是")])),_:1}),g(E,{value:!1},{default:m((()=>[p("否")])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(f,{"label-width":"200",class:"item-w-300",label:"是否开启超绝特效"},{default:m((()=>[g(B,{modelValue:j(F).cj_pd,"onUpdate:modelValue":u[12]||(u[12]=e=>j(F).cj_pd=e)},{default:m((()=>[g(E,{value:!1},{default:m((()=>[p("未开启")])),_:1}),g(E,{value:!0},{default:m((()=>[p("开启")])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(f,{"label-width":"200",class:"item-w-300",label:"部队血量情况"},{default:m((()=>[g(B,{modelValue:j(F).bdxl_pd,"onUpdate:modelValue":u[13]||(u[13]=e=>j(F).bdxl_pd=e)},{default:m((()=>[g(E,{value:"满血"},{default:m((()=>[p("满血")])),_:1}),g(E,{value:"80%以上但未满血"},{default:m((()=>[p("80%以上但未满血")])),_:1}),g(E,{value:"50%以上但80%以下"},{default:m((()=>[p("50%以上但80%以下")])),_:1}),g(E,{value:"50%以下"},{default:m((()=>[p("50%以下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),g(C,{"model-value":"装备特效"},{default:m((()=>[(l(!0),a(z,null,s(De.filter((e=>"总加成"!==e.label)),(e=>(l(),i(O,{key:e.label,name:e.label,label:e.label},{default:m((()=>[w("div",{flex:"main:left"},[w("div",{style:{flex:"1"}},[w("div",{class:"mb_16",style:{"font-weight":"bold"}},t(e.label),1),w("div",{flex:""},["装备特效"===e.label?(l(),a("div",{key:0,style:{"margin-right":"32px"}},[(l(!0),a(z,null,s(xe.value,((e,u)=>(l(),a("div",{key:u,class:"mb_16"},[w("div",{flex:"cross:center",class:"mb_8"},[(null==e?void 0:e.picAddr)?(l(),a("img",{key:0,src:e.picAddr,style:{width:"40px",height:"auto","margin-right":"8px"}},null,8,["src"])):k("",!0),w("div",{style:{"font-weight":"bold"}},t(u)+"："+t(null==e?void 0:e.装备名称),1)]),w("div",null,[p("特效："),w("span",{class:"orange"},t(null==e?void 0:e.specialEffects),1)])])))),128))])):k("",!0),w("div",null,[(l(!0),a(z,null,s(Ie.value,(u=>{var d,r;return l(),a("div",{key:u.prop,class:"mb_16"},[w("div",{flex:"cross:center"},[w("span",{style:{width:"100px"}},t(u.prop)+"：",1),"装备特效"===e.label?(l(),i(Z,{key:0,value:Ke.value[u.prop],isPercent:!0},null,8,["value"])):"超绝特效"===e.label?(l(),i(Z,{key:1,value:Se.value[u.prop],isPercent:!0},null,8,["value"])):"附魔共鸣"===e.label?(l(),a(z,{key:2},[!j(F).sdsr_pd&&u.prop?(l(),i(Y,{key:0,prop:u.prop,formData:j(F).fm4jc},null,8,["prop","formData"])):(l(),i(Z,{key:1,value:null==(d=j(F).fm4jc)?void 0:d[u.prop],isPercent:!0},null,8,["value"]))],64)):"铸纹特效"===e.label?(l(),a(z,{key:3},[j(F).sdsr_pd&&j(F).selected_job&&"自定义"!==j(F).selected_job||!u.prop?(l(),i(Z,{key:1,value:null==(r=j(F).zwtxjc)?void 0:r[u.prop],isPercent:!0},null,8,["value"])):(l(),i(Y,{key:0,prop:u.prop,formData:j(F).zwtxjc},null,8,["prop","formData"]))],64)):"战场其他加成（手输）"===e.label?(l(),i(Y,{key:4,prop:u.prop,formData:j(F).zc_qt_jc},null,8,["prop","formData"])):"总加成"===e.label?(l(),i(Z,{key:5,value:u.total,isPercent:!0},null,8,["value"])):k("",!0)])])})),128))])])]),w("div",{style:{width:"200px","margin-left":"24px","border-left":"1px solid #eee","padding-left":"24px"}},[w("div",{class:"mb_16",style:{"font-weight":"bold"}},"总加成"),(l(!0),a(z,null,s(Ie.value,(e=>(l(),a("div",{key:e.prop,class:"mb_16"},[w("div",{flex:"main:justify cross:center"},[w("span",{style:{width:"100px"}},t(e.prop)+"：",1),g(Z,{value:e.total,isPercent:!0},null,8,["value"])])])))),128))])])])),_:2},1032,["name","label"])))),128))])),_:1})])),_:1}),g(D,{class:"mb_16"},{default:m((()=>[g(X,null,{default:m((()=>[g(H,{title:"是否存在 攻转防 防转攻",name:"1"},{default:m((()=>[w("div",{flex:"",style:{gap:"8px"}},[w("div",{style:{width:"400px"}},[g(f,null,{default:m((()=>[g(y,{modelValue:j(F).zh_pd_fj,"onUpdate:modelValue":u[14]||(u[14]=e=>j(F).zh_pd_fj=e),label:"增加到某属性"},null,8,["modelValue"])])),_:1}),j(F).zh_pd_fj?(l(),a("div",{key:0},[(l(),a(z,null,s(c,((e,t)=>(l(),a(z,{key:t},[g(f,null,{default:m((()=>[g(y,{modelValue:j(F)[e.zhKey],"onUpdate:modelValue":l=>j(F)[e.zhKey]=l,label:e.prop+"进行转换"},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024),w("br"),j(F)[e.zhKey]?(l(),i(D,{key:0,class:"mb_8"},{default:m((()=>[(l(!0),a(z,null,s(j(P).filter((l=>l!==e.prop)),((t,u)=>(l(),a(z,{key:u},[g(f,{"label-width":"140",label:e.prop+"转化"+t+"系数"},{default:m((()=>[g(Y,{prop:t,formData:j(F)[e.zhValueKey]},null,8,["prop","formData"])])),_:2},1032,["label"]),w("br")],64)))),128))])),_:2},1024)):k("",!0)],64)))),64))])):k("",!0)]),w("div",{style:{width:"400px"}},[g(f,null,{default:m((()=>[g(y,{modelValue:j(F).zh_pd_dt,"onUpdate:modelValue":u[15]||(u[15]=e=>j(F).zh_pd_dt=e),label:"代替某属性"},null,8,["modelValue"])])),_:1}),j(F).zh_pd_dt?(l(),a("div",{key:0},[(l(),a(z,null,s(c,((e,t)=>(l(),a(z,{key:t},[g(f,null,{default:m((()=>[g(y,{modelValue:j(F)[e.tdKey],"onUpdate:modelValue":l=>j(F)[e.tdKey]=l,label:e.prop+"进行代替"},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024),w("br"),j(F)[e.tdKey]?(l(),i(D,{key:0,class:"mb_8"},{default:m((()=>[(l(!0),a(z,null,s(j(P).filter((l=>l!==e.prop)),((t,u)=>(l(),a(z,{key:u},[g(f,{"label-width":"140",label:e.prop+"代替"+t+"系数"},{default:m((()=>[g(Y,{prop:t,formData:j(F)[e.tdValueKey]},null,8,["prop","formData"])])),_:2},1032,["label"]),w("br")],64)))),128))])),_:2},1024)):k("",!0)],64)))),64))])):k("",!0)])])])),_:1})])),_:1})])),_:1}),g(D,{class:"mb_16"},{header:m((()=>[p(" 英雄的战场面板 ")])),default:m((()=>{var e;return[w("div",{flex:""},[w("div"),w("div",{class:"green-list total",flex:""},[w("div",null,[(l(),a(z,null,s(["生命"],(e=>w("div",{class:"item",key:e},[w("div",{class:"label"},t(e)+"： ",1),w("div",{class:"value",flex:"",style:{gap:"8px"}},[g(Z,{value:Qe.value[e],"show-class":Oe.value[e]>0||0!=Be.value[e]?"up":Oe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64)),re.value?(l(),a("img",{key:0,class:"mr_16",style:{width:"120px",height:"120px",display:"block"},src:null==(e=re.value)?void 0:e["英雄头像"],alt:""},null,8,["src"])):k("",!0)]),w("div",null,[w("div",{flex:""},[(l(),a(z,null,s(["攻击","智力"],(e=>w("div",{class:"item",key:e},[w("div",{class:"label"},t(e)+"： ",1),w("div",{class:"value",flex:"",style:{gap:"8px"}},[g(Z,{value:Qe.value[e],"show-class":Oe.value[e]>0||0!=Be.value[e]?"up":Oe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))]),w("div",{flex:""},[(l(),a(z,null,s(["防御","魔防"],(e=>w("div",{class:"item",key:e},[w("div",{class:"label"},t(e)+"： ",1),w("div",{class:"value",flex:"",style:{gap:"8px"}},[g(Z,{value:Qe.value[e],"show-class":Oe.value[e]>0||0!=Be.value[e]?"up":Oe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))]),w("div",{flex:""},[(l(),a(z,null,s(["技巧"],(e=>w("div",{class:"item",key:e},[w("div",{class:"label"},t(e)+"： ",1),w("div",{class:"value",flex:"",style:{gap:"8px"}},[g(Z,{value:Qe.value[e],"show-class":Oe.value[e]>0||0!=Be.value[e]?"up":Oe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))])])])]),g(J),w("div",{style:{margin:"0 24px"}},[w("h3",null,"英雄大心效果"),w("div",{class:"mt_8"},[p(" 心之羁绊4："),w("span",{class:"orange"},t(re.value["心之羁绊4"]),1)]),w("div",{class:"mt_8"},[p(" 心之羁绊7："),w("span",{class:"orange"},t(re.value["心之羁绊7"]),1)])])]})),_:1})])),_:1},8,["model"]),w("pre",{style:{"user-select":"text"}},"  使用说明：此计算器搬运了墨源的梦战伤害计算器，一切版权均属于墨源。搬运来源：https://moyuanmz-mbjsq.streamlit.app/\n"),g(ee,{right:40,bottom:40}),g(ue,{modelValue:Ge.value,"onUpdate:modelValue":u[18]||(u[18]=e=>Ge.value=e),title:"保存英雄数据",width:"30%"},{footer:m((()=>[w("span",{class:"dialog-footer"},[g(o,{onClick:u[17]||(u[17]=e=>Ge.value=!1)},{default:m((()=>[p("取消")])),_:1}),g(o,{type:"primary",onClick:Fe},{default:m((()=>[p("确认")])),_:1})])])),default:m((()=>[g($,null,{default:m((()=>[g(f,{label:"缓存名称"},{default:m((()=>[g(le,{modelValue:Me.value,"onUpdate:modelValue":u[16]||(u[16]=e=>Me.value=e),placeholder:"请输入缓存名称"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),g(ue,{modelValue:Le.value,"onUpdate:modelValue":u[19]||(u[19]=e=>Le.value=e),title:"选择英雄数据",width:"30%"},{default:m((()=>[g(I,{data:Ce.value,style:{width:"100%"}},{default:m((()=>[g(K,{property:"name",label:"缓存名称"},{default:m((e=>{var u;return[w("div",{flex:"cross:center"},[(null==(u=e.row.data)?void 0:u.selected_hero_row)?(l(),a("img",{key:0,style:{width:"30px",height:"30px","margin-right":"8px"},src:Te(e.row.data)},null,8,["src"])):k("",!0),w("span",null,t(e.row.name),1)])]})),_:1}),g(K,{align:"right"},{default:m((e=>[g(o,{size:"small",onClick:l=>{return a=e.row,F.value=S.cloneDeep(a.data),Le.value=!1,void N.success("加载成功");var a}},{default:m((()=>[p("使用")])),_:2},1032,["onClick"]),g(o,{size:"small",type:"danger",onClick:l=>{return a=e.row,void q.confirm("确认删除该缓存？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=`${ae}hero_cache`,l=JSON.parse(localStorage.getItem(e)||"[]"),t=l.findIndex((e=>e.name===a.name));t>-1&&(l.splice(t,1),localStorage.setItem(e,JSON.stringify(l)),Ce.value=l,N.success("删除成功"))}));var a}},{default:m((()=>[p("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1},8,["modelValue"])])),_:1})}}},[["__scopeId","data-v-4eb71675"]]);export{te as default};
