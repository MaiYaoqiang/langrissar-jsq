import{f as e,o as l,h as a,t,k as u,L as d,E as s,y as o,c as r,aq as n,j as i,w as p,A as v,b as _,ar as m,r as c,as as b,at as f,p as y,m as h,i as x,a as w,z,u as j,F as g,s as k,au as V}from"./index-DY5OH56h.js";import{r as K,a as q,p as U,B as D,e as N,s as O,i as P}from"./utils.B_aF3UCQ.js";import{m as S,k as $,u as C,l as E,n as B,o as A,p as I,q as J,r as L}from"./hook.C4S2R1uS.js";import{_ as M,a as T}from"./mz-input.BTZR_Py3.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as H}from"./lodash.m4nTJ-_9.js";const Q=F({__name:"show-up",props:{value:{},isPercent:{type:Boolean,default:!1},showClass:{type:String,default:""}},setup(d){const s=d,o=e((()=>s.isPercent?K(100*s.value,2):s.value));return(e,s)=>(l(),a("div",{class:u(["show-up",[d.showClass?d.showClass:d.value>0?"up":d.value<0?"down":""]])},t(o.value)+t(d.isPercent?"%":""),3))}},[["__scopeId","data-v-15ab173b"]]),G={__name:"mz-number-input",props:d({min:{type:Number,default:0},isPercent:{type:Boolean,default:!1},size:{type:String,default:"small"}},{modelValue:{type:Number,default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const t=s(a,"modelValue"),u=a,d=e((()=>u.isPercent?new q(t.value||0).times(100).toNumber():Number(t.value)||0)),c=e=>{if(!u.isPercent)return t.value=Number(e);t.value=new q(e||0).div(100).toNumber()};return(e,t)=>{const s=o("el-input-number");return l(),r(s,m(e.$attrs,{size:a.size,"model-value":d.value,min:u.min,onChange:c}),n({_:2},[i(Object.entries(e.$slots).filter((([e,l])=>l)),(([l,a])=>({name:l,fn:p((()=>[v(e.$slots,l)]))}))),u.isPercent?{name:"suffix",fn:p((()=>[_(" % ")])),key:"0"}:void 0]),1040,["size","model-value","min"])}}},R="langrissar-calculator-mbjs-el-",W=F({__name:"mbjs-el",setup(u){const d=c([]),s=c({});b((()=>{const e={heroName:"英雄名",occupation:"职业名",life:"生命",attack:"攻击",intelligence:"智力",defense:"防御",magicDefense:"魔防",skill:"技巧",zwLife:"铸纹生命",zwAttack:"铸纹攻击",zwIntelligence:"铸纹智力",zwDefense:"铸纹防御",zwMagicDefense:"铸纹魔防",zwSkill:"铸纹技巧",logo:"英雄头像"};new f.Query("HeroBasicAttr").limit(1e3).find().then((l=>{const a=l.map((l=>({...Object.entries(l.attributes).reduce(((l,[a,t])=>(e[a]&&(l[e[a]]=t),l)),{}),...l.attributes})));d.value=Object.entries(H.groupBy(a,"英雄名")).map((([e,l])=>({"英雄名":e,list:l}))),console.log(d.value)})).catch((e=>{console.log("查询失败",e)}))})),b((()=>{const e=U("\ufeff装备名称,类别,生命,攻击,智力,防御,魔防,技巧,代表\n无,武器,0,0,0,0,0,0,无\n无,衣服,0,0,0,0,0,0,无\n无,头饰,0,0,0,0,0,0,无\n无,饰品,0,0,0,0,0,0,无\n斧头「生命+364，攻击+118」,武器,364,118,0,0,0,0,拉格，真红\n剑（+生命）「生命+437，攻击+107」,武器,437,107,0,0,0,0,封印，斩风，屠龙刀\n剑（+技巧）「攻击+107，技巧+43」,武器,0,107,0,0,0,43,嗜血剑，范围剑，斩魔刀\n弓「攻击+107，技巧+43」,武器,0,107,0,0,0,43,射程弓，近战弓，AOE弓，白嫖弓\n双修专属「攻击+107，智力+107」,武器,0,107,107,0,0,0,阿卡娅专属、火男专属，黑骑士专属\n匕首（莎拉维尔）「攻击+96，技巧+54」,武器,0,96,0,0,0,54,莎拉维尔，风斩，夜莺\n匕首（蜂刺）「攻击+96，技巧+53」,武器,0,96,0,0,0,53,蜂刺，迅银飞刀\n枪「生命+583，攻击+85」,武器,583,85,0,0,0,0,雷枪，世界树，破阵枪\n锤子（物理）「生命+583，攻击+85」,武器,583,85,0,0,0,0,碎骨锤，浦饭锤，正义誓言\n锤子（魔法）「生命+583，智力+85」,武器,583,0,85,0,0,0,奶锤，棒棒糖，真理，粉毛专属\n法杖「生命+437，智力+107」,武器,437,0,107,0,0,0,红蓝月，白嫖杖，驱散杖，女神左手，脏杖\n重甲「生命+437，防御+65」,衣服,437,0,0,65,0,0,城甲，暗龙甲，风王，血纹，旭日甲\n轻甲「生命+509，防御+59」,衣服,509,0,0,59,0,0,最后服，流光，影渊\n法袍「生命+583，防御+54」,衣服,583,0,0,54,0,0,天女衣，死神衣，惑星\n重头「生命+583，魔防+48」,头饰,583,0,0,0,48,0,提尔头，艾头，原质头\n轻头「生命+437，魔防+59」,头饰,437,0,0,0,59,0,鲜花头，王者头，羽冠，夜之枭影\n布帽「生命+364，魔防+65」,头饰,364,0,0,0,65,0,天女头，感电头，尘世头，沉默头\n血盟「生命+1102」,饰品,1102,0,0,0,0,0,血之盟约\n双修饰品「攻击+75，智力+75」,饰品,0,75,75,0,0,0,晨星，星轨，灾厄\n攻血饰品「生命+509，攻击+75」,饰品,509,75,0,0,0,0,霸者，屠龙，翅膀，屠骑\n攻物防饰品「攻击+75，防御+43」,饰品,0,75,0,43,0,0,审判，神翼，钉子，氤氲\n攻魔防饰品「攻击+75，魔防+43」,饰品,0,75,0,0,43,0,红色小棉袜\n攻技巧饰品「攻击+75，技巧+37」,饰品,0,75,0,0,0,37,暗谋，红月之心，海洋之心\n智血饰品「生命+509，智力+75」,饰品,509,0,75,0,0,0,奶瓶，星耳，次元，小熊\n智魔防饰品「智力+75，魔防+43」,饰品,0,0,75,0,43,0,神圣指环，反弹戒，救赎之心，女神泪\n血物防饰品「生命+509，防御+48」,饰品,509,0,0,48,0,0,铁鞋，岚砂，妖精鞋\n血魔防饰品「生命+509，魔防+48」,饰品,509,0,0,0,48,0,骨灰盒，面纱\n双防饰品「防御+48，魔防+43」,饰品,0,0,0,48,43,0,勋章，蝴蝶\n");s.value=H.groupBy(e,"类别"),console.log(s.value)}));const n={"生命":500,"攻击":60,"智力":60,"防御":50,"魔防":50,"技巧":80},v=[{prop:"生命",zhKey:"yx_sm_fj",zhValueKey:"yx_sm_zhxs",tdKey:"yx_sm_dt",tdValueKey:"yx_sm_dtxs"},{prop:"攻击",zhKey:"yx_gj_fj",zhValueKey:"yx_gj_zhxs",tdKey:"yx_gj_dt",tdValueKey:"yx_gj_dtxs"},{prop:"智力",zhKey:"yx_zl_fj",zhValueKey:"yx_zl_zhxs",tdKey:"yx_zl_dt",tdValueKey:"yx_zl_dtxs"},{prop:"防御",zhKey:"yx_fy_fj",zhValueKey:"yx_fy_zhxs",tdKey:"yx_fy_dt",tdValueKey:"yx_fy_dtxs"},{prop:"魔防",zhKey:"yx_mf_fj",zhValueKey:"yx_mf_zhxs",tdKey:"yx_mf_dt",tdValueKey:"yx_mf_dtxs"},{prop:"技巧",zhKey:"yx_jq_fj",zhValueKey:"yx_jq_zhxs",tdKey:"yx_jq_dt",tdValueKey:"yx_jq_dtxs"}],m={selected_hero_row:"",selected_job:"",bz_input_can_edit:!1,bz:H.cloneDeep(S),yx_wq:"无",yx_yf:"无",yx_ts:"无",yx_sp:"无",gm_fm_1:"",gm_fm_2:"",fm_input:$,zyjt_input_can_edit:!1,zyjt:H.cloneDeep(S),zw_input_can_edit:!1,zw:H.cloneDeep(S),selected_sq:"",sdsr_pd:!0,bjl:H.cloneDeep(S),jjjt_sfm:!0,jjjt:H.cloneDeep(n),jjc_pd:!0,zb_tx:H.cloneDeep(S),zc_qt_jc:H.cloneDeep(S),cj_pd:!1,zh_pd_fj:!1,zh_pd_dt:!1,...v.reduce(((e,l)=>(e[l.zhKey]=!1,e[l.zhValueKey]={},e[l.tdKey]=!1,e[l.tdValueKey]={},e)),{}),fm4jc:{}},F=C(`${R}formData`,JSON.parse(JSON.stringify(m))),W=()=>{F.value=JSON.parse(JSON.stringify(m))},X=e((()=>({...F.value})));e((()=>({...X.value}))),y((()=>F.value.selected_hero_row),(()=>{var e;F.value.selected_job=null==(e=Y.value)?void 0:e.list[0].职业名}));const Y=e((()=>{const e=F.value.selected_hero_row;return d.value.find((l=>l.英雄名===e))})),Z=e((()=>{var e,l,a;const t=null==(e=F.value)?void 0:e.selected_job;return null==(a=null==(l=Y.value)?void 0:l.list)?void 0:a.find((e=>e.职业名===t))}));y((()=>F.value.selected_job),(()=>{F.value.bz_input_can_edit=!1})),h((()=>{F.value.bz_input_can_edit||(()=>{const e=E;F.value.bz=e.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=Z.value)?void 0:a[l])||0,e}),{})})()}));h((()=>{F.value.zyjt_input_can_edit||(F.value.zyjt={"生命":750,"攻击":80,"智力":80,"防御":60,"魔防":60,"技巧":80})}));h((()=>{F.value.zw_input_can_edit||(()=>{const e=E;F.value.zw=e.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=Z.value)?void 0:a[`铸纹${l}`]),e}),{})})()}));const ee=["士兵生命","士兵攻击","士兵防御","士兵魔防"],le=["生命","攻击","智力","防御","魔防","技巧"],ae=[...le,...ee],te=()=>ae.reduce(((e,l)=>(e[l]=0,e)),{}),ue=C(`${R}sq_cxzz`,te()),de=ae.map((e=>({label:e,key:e}))),se=()=>{N({data:[ue.value],exportOption:de,sheetName:"Sheet1",bookName:"神契晨曦之祝加成"})},oe=()=>{O().then((e=>{P({file:e,importOption:de,sheetName:"Sheet1"}).then((e=>{ue.value=e[0]}))})).catch((()=>{ElMessage.error("导入失败")}))},re=C(`${R}sq_filter_data`,[]),ne=e((()=>{const e=[{"名称":"神契晨曦之祝加成"}];return L.forEach((l=>{e.push(l),e.push({"名称":`${l.名称}总加成`,"原名":l.名称,isTotal:!0,...ae.reduce(((e,a)=>{var t;return e[a]=new q(null==(t=ue.value)?void 0:t[a]).plus(l[a]||0).toNumber(),e}),{})})})),e})),ie=e((()=>{if(re.value.length){const e=H.difference(Object.keys(B),re.value);return ne.value.filter((l=>!e.find((e=>-1!==l.名称.indexOf(e)))))}return ne.value})),pe=({row:e,rowIndex:l})=>e.isTotal?"total-row":"",ve={"武器":"yx_wq","衣服":"yx_yf","头饰":"yx_ts","饰品":"yx_sp"},_e=e((()=>Object.keys(ve).reduce(((e,l)=>{const a=s.value[l];return e[l]=(null==a?void 0:a.find((e=>{var a;return e["装备名称"]===(null==(a=F.value)?void 0:a[ve[l]])})))||(null==a?void 0:a[0]),e}),{}))),me=e=>{var l,a;const t=_e.value[e];return null==(a=null==(l=null==t?void 0:t["代表"])?void 0:l.trim())?void 0:a.split("，")},ce=e((()=>I.find((e=>e.value===F.value.gm_fm_1)))),be=e((()=>I.find((e=>e.value===F.value.gm_fm_2)))),fe=e((()=>{const e=J.filter((e=>"部位"!==e.label)),l={};e.forEach((e=>{var a,t,u,d,s,o,r,n;const i=e.prop;(null==(a=ce.value)?void 0:a.value)!==(null==(t=be.value)?void 0:t.value)?l[i]=((null==(d=null==(u=ce.value)?void 0:u.gm)?void 0:d[i])||0)+((null==(o=null==(s=be.value)?void 0:s.gm)?void 0:o[i])||0):l[i]=(null==(n=null==(r=ce.value)?void 0:r.gm)?void 0:n[i])||0}));const a=[...F.value.fm_input,{"部位":"共鸣",...l}],t={};e.forEach((e=>{const l=e.prop;t[l]=a.reduce(((e,a)=>new q(e).plus(a[l]||0).toNumber()),0)}));const u={"部位":"总加成",...t};return[...a,u]})),ye=e((()=>{if(F.value.selected_sq&&"未携带"!==F.value.selected_sq){return ne.value.find((e=>e.原名===F.value.selected_sq))||te()}return te()})),he=e((()=>E.reduce(((e,l)=>(e[l]=Object.keys(ve).reduce(((e,a)=>{var t,u;const d=(null==(u=null==(t=_e.value)?void 0:t[a])?void 0:u[l])||0;return new q(e).plus(d).toNumber()}),0),e)),{}))),xe=e((()=>{const e=fe.value.filter((e=>"总加成"===e.部位))[0];return["生命","攻击","智力","防御","魔防"].reduce(((l,a)=>(l.fm_bfb[a]=e[`${a}百分比`]||0,l.fm_gdz[a]=e[`${a}固定值`]||0,l)),{fm_gdz:{},fm_bfb:{}})})),we=e((()=>({zb_jc:he.value,bz:F.value.bz,fm_bfb:xe.value.fm_bfb,fm_gdz:xe.value.fm_gdz,zyjt:F.value.zyjt,zw:F.value.zw,sq_zjc:ye.value}))),ze=e((()=>{const{zb_jc:e,bz:l,fm_bfb:a,fm_gdz:t,zyjt:u,zw:d,sq_zjc:s}=we.value;return{"生命":K(e["生命"]+l["生命"]*a["生命"]+t["生命"]+u["生命"]+d["生命"]+s["生命"],1),"攻击":K(e["攻击"]+l["攻击"]*a["攻击"]+t["攻击"]+u["攻击"]+d["攻击"]+s["攻击"],1),"智力":K(e["智力"]+l["智力"]*a["智力"]+t["智力"]+u["智力"]+d["智力"]+s["智力"],1),"防御":K(e["防御"]+l["防御"]*a["防御"]+t["防御"]+u["防御"]+d["防御"]+s["防御"],1),"魔防":K(e["魔防"]+l["魔防"]*a["魔防"]+t["魔防"]+u["魔防"]+d["魔防"]+s["魔防"],1),"技巧":K(e["技巧"]+u["技巧"]+d["技巧"]+s["技巧"],1)}})),je=[{label:"",prop:"mb_key"},{label:"合计",prop:"total"},{label:"装备基础",prop:"zb_jc"},{label:"附魔百分比",prop:"fm_bfb"},{label:"附魔百分比*白字",prop:"fm_bfb*bz"},{label:"附魔固定值",prop:"fm_gdz"},{label:"职业精通",prop:"zyjt"},{label:"铸纹",prop:"zw"},{label:"神契",prop:"sq_zjc"}],ge=e((()=>E.reduce(((e,l)=>{const{zb_jc:a,bz:t,fm_bfb:u,fm_gdz:d,zyjt:s,zw:o,sq_zjc:r}=["bz","zb_jc","fm_bfb","fm_bfb","fm_gdz","zyjt","zw","sq_zjc"].reduce(((e,a)=>(e[a]=we.value[a][l],e)),{}),n="技巧"===l;return e.push({mb_key:l,total:ze.value[l],zb_jc:a,fm_bfb:n?"-":new q(u||0).times(100).toString()+"%","fm_bfb*bz":n?"-":new q(u||0).times(t||0).toString(),fm_gdz:n?"-":d,zyjt:s,zw:o,sq_zjc:r}),e}),[])));h((()=>{F.value.sdsr_pd&&(F.value.bjl=E.reduce(((e,l)=>(e[l]=F.value.bz[l]+ze.value[l],e)),{}))}));h((()=>{F.value.jjjt_sfm&&(F.value.jjjt=H.cloneDeep(n))}));const ke=[{label:" ",prop:"bw",fixed:!0,width:100},{label:"装备特效",prop:"zb_tx",width:140},{label:"超绝特效",prop:"cj_tx",width:100},{label:"附魔加成",prop:"fm_jc",width:140},{label:"战场其他加成",prop:"zc_qt_jc",width:200},{label:"总加成",prop:"total",width:100}],Ve=e((()=>E.map((e=>{var l,a,t,u,d,s;let o=(Number(null==(a=null==(l=F.value)?void 0:l.zb_tx)?void 0:a[e])||0)+(Number(null==(t=Ke.value)?void 0:t[e])||0)+(Number(null==(u=F.value.fm4jc)?void 0:u[e])||0)+(Number(null==(s=null==(d=F.value)?void 0:d.zc_qt_jc)?void 0:s[e])||0);return"生命"===e&&F.value.jjc_pd&&(o+=.4),{prop:e,total:K(o,3)}})))),Ke=e((()=>F.value.cj_pd?{"攻击":.2,"智力":.2,"防御":.2,"魔防":.3}:{"攻击":0,"智力":0,"防御":0,"魔防":0}));h((()=>{var e,l,a;if(F.value.fm4jc||(F.value.fm4jc={}),F.value.sdsr_pd){let t={};if((null==(e=ce.value)?void 0:e.value)===(null==(l=be.value)?void 0:l.value))switch(null==(a=ce.value)?void 0:a.value){case"满月":t={"攻击":.1,"智力":.1,"防御":.1,"魔防":.1};break;case"怒涛":t={"攻击":.1};break;case"大树":t={"防御":.05,"魔防":.05}}F.value.fm4jc=t}}));const qe=e((()=>Ve.value.reduce(((e,l)=>(e[l.prop]=l.total,e)),{}))),Ue=e((()=>{const e=F.value.jjc_pd,l=F.value.bjl,a=F.value.jjjt,t=qe.value;return E.reduce(((u,d)=>{let s=l[d]*(1+t[d]);return e&&(s+=a[d]),u[d]=K(s,3),u}),{})})),De=e((()=>{const e=F.value,l=Ue.value;let a={};return e.zh_pd_fj&&(a=E.reduce(((a,t)=>(a[t]=v.filter((e=>e.prop!==t)).reduce(((a,u)=>(e[u.zhKey]&&(a=new q(l[u.prop]).times(e[u.zhValueKey][t]).plus(a).toNumber()),a)),0),a)),{})),a})),Ne=e((()=>{const e=F.value,l=Ue.value;let a={};return e.zh_pd_dt&&(a=E.reduce(((a,t)=>(a[t]=v.filter((e=>e.prop!==t)).reduce(((a,u)=>(e[u.tdKey]&&(a=new q(l[u.prop]).times(e[u.tdValueKey][t]).plus(a).toNumber()),a)),0),a)),{})),a})),Oe=e((()=>{const e={...Ue.value};return Object.keys(Ne.value).forEach((l=>{Ne.value[l]&&(e[l]=Ne.value[l])})),E.reduce(((l,a)=>(l[a]=K(e[a]+(De.value[a]||0),1),l)),{})}));return c(0),(e,u)=>{const n=o("el-button"),m=o("el-option"),c=o("el-select"),b=o("el-form-item"),f=o("el-checkbox"),y=o("el-input-number"),h=o("el-card"),U=o("el-table-column"),N=o("el-table"),O=o("el-tag"),P=o("el-tab-pane"),S=o("el-radio"),$=o("el-radio-group"),C=o("el-tabs"),L=o("el-collapse-item"),H=o("el-collapse"),R=o("el-form"),X=x;return l(),r(X,{class:"mbjs-el",style:{padding:"24px"}},{default:p((()=>[w(n,{class:"mb_16",type:"primary",onClick:W},{default:p((()=>[_("重置数据")])),_:1}),w(R,{style:{"min-width":"600px"},"label-width":"120px",class:"base-el-form","label-position":"right",inline:!0,model:j(F)},{default:p((()=>[w(h,{class:"mb_16"},{header:p((()=>[_(" 英雄白字区 ")])),default:p((()=>{var e;return[z("div",{flex:""},[z("div",{flex:"",class:"mr_16"},[z("div",{"flex-box":"0"},[w(b,{label:"选择英雄名"},{default:p((()=>[w(c,{modelValue:j(F).selected_hero_row,"onUpdate:modelValue":u[0]||(u[0]=e=>j(F).selected_hero_row=e),filterable:""},{default:p((()=>[(l(!0),a(g,null,i(d.value,((e,a)=>(l(),r(m,{value:e.英雄名,key:a,label:e.英雄名},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),z("br"),w(b,{label:"选择职业"},{default:p((()=>[w(c,{modelValue:j(F).selected_job,"onUpdate:modelValue":u[1]||(u[1]=e=>j(F).selected_job=e),filterable:""},{default:p((()=>{var e;return[(l(!0),a(g,null,i(null==(e=Y.value)?void 0:e.list,((e,a)=>(l(),r(m,{value:e.职业名,key:a,label:e.职业名},null,8,["value","label"])))),128))]})),_:1},8,["modelValue"])])),_:1})]),Z.value?(l(),a("img",{key:0,style:{width:"120px",height:"120px",display:"block"},src:null==(e=Z.value)?void 0:e["英雄头像"],alt:""},null,8,["src"])):k("",!0)]),z("div",null,[w(b,{label:" "},{default:p((()=>[w(f,{modelValue:j(F).bz_input_can_edit,"onUpdate:modelValue":u[2]||(u[2]=e=>j(F).bz_input_can_edit=e),label:"是否自定义白字"},null,8,["modelValue"])])),_:1}),z("br"),(l(!0),a(g,null,i(j(E),((e,t)=>(l(),a(g,{key:t},[w(b,{label:e},{default:p((()=>[w(y,{disabled:!j(F).bz_input_can_edit,modelValue:j(F).bz[e],"onUpdate:modelValue":l=>j(F).bz[e]=l,min:0},null,8,["disabled","modelValue","onUpdate:modelValue"])])),_:2},1032,["label"]),z("br")],64)))),128))])])]})),_:1}),w(h,{class:"mb_16"},{header:p((()=>[z("div",{flex:"cross:center"},[z("div",null," 神契设置区 "),z("div",{style:{"margin-left":"auto"}},[w(n,{onClick:se},{default:p((()=>[_("导出神契设置")])),_:1}),w(n,{type:"primary",onClick:oe},{default:p((()=>[_("导入神契设置")])),_:1})])])])),default:p((()=>[z("div",null,[w(b,{label:"筛选神契"},{default:p((()=>[w(c,{style:{"min-width":"300px"},modelValue:j(re),"onUpdate:modelValue":u[3]||(u[3]=e=>V(re)?re.value=e:null),filterable:"",multiple:"",clearable:""},{default:p((()=>[(l(!0),a(g,null,i(Object.keys(j(B)),((e,a)=>(l(),r(m,{value:e,key:a,label:e},{default:p((()=>[z("div",{flex:"cross:center"},[z("img",{class:"mr_16",style:{width:"30px",height:"30px"},src:j(B)[e].image,alt:""},null,8,["src"]),z("div",null,t(e),1)])])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})]),w(N,{border:"",size:"small","row-class-name":pe,data:ie.value},{default:p((()=>[(l(!0),a(g,null,i(j(A),((e,u)=>(l(),r(U,{fixed:e.fixed,key:u,width:e.width,label:e.label,prop:e.prop},{default:p((u=>{var d,s,o;return["神契晨曦之祝加成"===(null==(d=u.row)?void 0:d.名称)&&"名称"!==e.prop?(l(),a(g,{key:0},[z("div",{style:{color:"#999"}}," 最大值"+t(e.max),1),w(G,{style:{width:"120px"},max:e.max,modelValue:j(ue)[e.prop],"onUpdate:modelValue":l=>j(ue)[e.prop]=l,"is-percent":e.isPercent,min:0},null,8,["max","modelValue","onUpdate:modelValue","is-percent"])],64)):(l(),a(g,{key:1},["名称"===e.prop?(l(),a("div",{key:0,flex:"cross:center"},[(null==(s=j(B)[u.row[e.prop]])?void 0:s.image)?(l(),a("img",{key:0,style:{width:"30px",height:"30px"},class:"mr_8",src:null==(o=j(B)[u.row[e.prop]])?void 0:o.image,alt:""},null,8,["src"])):k("",!0),z("div",null,t(u.row[e.prop]),1)])):e.isPercent?(l(),a("span",{key:1},t(new(j(q))(u.row[e.prop]).times(100).toString())+"%",1)):(l(),a("span",{key:2},t(u.row[e.prop]),1))],64))]})),_:2},1032,["fixed","width","label","prop"])))),128))])),_:1},8,["data"])])),_:1}),w(h,{class:"mb_16"},{header:p((()=>[_(" 英雄绿字区 ")])),default:p((()=>[w(C,{"model-value":"装备",style:{"min-height":"300px"}},{default:p((()=>[w(P,{class:"item-w-340",label:"装备",name:"装备"},{default:p((()=>[z("div",{flex:""},[z("div",null,[(l(),a(g,null,i(ve,((e,u)=>(l(),a(g,{key:u},[w(b,{label:"请选择"+u},{default:p((()=>[w(c,{modelValue:j(F)[e],"onUpdate:modelValue":l=>j(F)[e]=l,filterable:""},{default:p((()=>[(l(!0),a(g,null,i(s.value[u],((e,a)=>(l(),r(m,{key:a,label:e.装备名称,value:e.装备名称},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),z("div",null,[_(" 武器代表: "),(l(!0),a(g,null,i(me(u),((e,a)=>(l(),r(O,{class:"mr_8 bm_8",key:a,type:"primary"},{default:p((()=>[_(t(e),1)])),_:2},1024)))),128))])])),_:2},1032,["label"]),z("br")],64)))),64))]),z("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(g,null,i(j(E),(e=>(l(),a("div",{class:"item",key:e},[z("div",{class:"label",style:{width:"100px"}},t(e),1),z("div",{class:"value"}," +"+t(he.value[e]),1)])))),128))])])])),_:1}),w(P,{class:"item-w-200",label:"附魔",name:"附魔"},{default:p((()=>[z("div",null,[w(b,{label:"第一个共鸣2件套"},{default:p((()=>{var e;return[w(c,{class:"mb_8",modelValue:j(F).gm_fm_1,"onUpdate:modelValue":u[4]||(u[4]=e=>j(F).gm_fm_1=e),filterable:""},{default:p((()=>[(l(!0),a(g,null,i(j(I),((e,u)=>(l(),r(m,{key:u,label:e.label,value:e.value},{default:p((()=>[z("div",{flex:"cross:center"},[e.image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:e.image,alt:""},null,8,["src"])):k("",!0),z("div",null,t(e.label),1)])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),z("div",{flex:"cross:center main:center",style:{width:"100%","min-height":"50px"}},[(null==(e=ce.value)?void 0:e.image)?(l(),a(g,{key:0},i(2,(e=>{var l;return z("img",{key:e,style:{width:"50px",height:"50px",margin:"0 auto"},src:null==(l=ce.value)?void 0:l.image,alt:""},null,8,["src"])})),64)):k("",!0)])]})),_:1}),w(b,{label:"第二个共鸣2件套"},{default:p((()=>{var e;return[w(c,{class:"mb_8",modelValue:j(F).gm_fm_2,"onUpdate:modelValue":u[5]||(u[5]=e=>j(F).gm_fm_2=e),filterable:""},{default:p((()=>[(l(!0),a(g,null,i(j(I),((e,u)=>(l(),r(m,{key:u,label:e.label,value:e.value},{default:p((()=>[z("div",{flex:"cross:center"},[e.image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:e.image,alt:""},null,8,["src"])):k("",!0),z("div",null,t(e.label),1)])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),z("div",{flex:"cross:center main:center",style:{width:"100%","min-height":"50px"}},[(null==(e=be.value)?void 0:e.image)?(l(),a(g,{key:0},i(2,(e=>{var l;return z("img",{key:e,style:{width:"50px",height:"50px",margin:"0 auto"},src:null==(l=be.value)?void 0:l.image,alt:""},null,8,["src"])})),64)):k("",!0)])]})),_:1})]),w(D),w(N,{data:fe.value},{default:p((()=>[(l(!0),a(g,null,i(j(J),((e,u)=>(l(),r(U,{key:u,width:e.width,fixed:e.fixed,label:e.label,prop:e.prop},{default:p((u=>{var d,s,o,n,i;return["部位"===e.label?(l(),a(g,{key:0},[_(t(u.row.部位),1)],64)):(l(),a(g,{key:1},["共鸣"===(null==(d=u.row)?void 0:d.部位)&&-1!==e.prop.indexOf("固定值")?(l(),a("div",{key:0,style:{"text-align":"center","margin-left":"-20px"}},"-")):(l(),r(G,{key:1,style:{width:"100px"},disabled:"共鸣"===(null==(s=u.row)?void 0:s.部位)||"总加成"===(null==(o=u.row)?void 0:o.部位),"is-percent":e.isPercent,modelValue:u.row[e.prop],"onUpdate:modelValue":l=>u.row[e.prop]=l,max:(null==(i=e.maxList)?void 0:i[null==(n=u.row)?void 0:n.部位])||1/0},null,8,["disabled","is-percent","modelValue","onUpdate:modelValue","max"]))],64))]})),_:2},1032,["width","fixed","label","prop"])))),128))])),_:1},8,["data"])])),_:1}),w(P,{label:"职业精通",name:"职业精通"},{default:p((()=>[z("div",{flex:"cross:top"},[w(b,{style:{display:"unset"},"label-position":"top",label:"职业精通是否满值"},{default:p((()=>[w($,{modelValue:j(F).zyjt_input_can_edit,"onUpdate:modelValue":u[6]||(u[6]=e=>j(F).zyjt_input_can_edit=e)},{default:p((()=>[w(S,{value:!1,label:"默认满"}),z("br"),w(S,{value:!0,label:"自定义"})])),_:1},8,["modelValue"])])),_:1}),z("div",null,[(l(!0),a(g,null,i(j(E),((e,a)=>(l(),r(b,{key:a,label:e+"-职业精通"},{default:p((()=>[w(M,{disabled:!j(F).zyjt_input_can_edit,prop:e,formData:j(F).zyjt},null,8,["disabled","prop","formData"])])),_:2},1032,["label"])))),128))])])])),_:1}),w(P,{label:"铸纹",name:"铸纹"},{default:p((()=>[z("div",{flex:"cross:top"},[w(b,{class:"item-w-200",style:{display:"unset"},"label-width":200,"label-position":"top",label:"选择铸纹类型（默认满级）"},{default:p((()=>[w($,{modelValue:j(F).zw_input_can_edit,"onUpdate:modelValue":u[7]||(u[7]=e=>j(F).zw_input_can_edit=e)},{default:p((()=>[w(S,{value:!1,label:"默认关联选择的英雄"}),z("br"),w(S,{value:!0,label:"自定义铸纹"})])),_:1},8,["modelValue"])])),_:1}),z("div",null,[(l(!0),a(g,null,i(j(E),((e,a)=>(l(),r(b,{key:a,label:e+"-职业精通"},{default:p((()=>[w(M,{disabled:!j(F).zw_input_can_edit,prop:e,formData:j(F).zw},null,8,["disabled","prop","formData"])])),_:2},1032,["label"])))),128))])])])),_:1}),w(P,{label:"神契",name:"神契"},{default:p((()=>[z("div",{flex:""},[z("div",{style:{width:"400px"}},[z("div",{class:"error mb_16",style:{"font-size":"20px"}}," 请提前在「神契设置区」设置好神契 "),w(b,{style:{width:"100%"},label:"请选择神契"},{default:p((()=>[w(c,{modelValue:j(F).selected_sq,"onUpdate:modelValue":u[8]||(u[8]=e=>j(F).selected_sq=e),filterable:"",clearable:""},{default:p((()=>[w(m,{value:"未携带",label:"未携带"}),(l(!0),a(g,null,i(Object.keys(j(B)),((e,u)=>(l(),r(m,{value:e,key:u,label:e},{default:p((()=>[z("div",{flex:"cross:center"},[j(B)[e].image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:j(B)[e].image,alt:""},null,8,["src"])):k("",!0),z("div",null,t(e),1)])])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),w(b,{label:" "},{default:p((()=>{var e,t;return[(null==(e=j(B)[j(F).selected_sq])?void 0:e.image)?(l(),a("img",{key:0,style:{display:"block",width:"100px",height:"100px"},src:null==(t=j(B)[j(F).selected_sq])?void 0:t.image,alt:""},null,8,["src"])):k("",!0)]})),_:1})]),z("div",{class:"green-list",style:{"max-width":"400px"}},[(l(),a(g,null,i(le,(e=>z("div",{class:"item",key:e},[z("div",{class:"label",style:{width:"100px"}},t(e),1),z("div",{class:"value"}," +"+t(ye.value[e]),1)]))),64)),(l(),a(g,null,i(ee,(e=>z("div",{class:"item",key:e},[z("div",{class:"label",style:{width:"100px"}},t(e),1),z("div",{class:"value"}," +"+t(j(K)(100*ye.value[e],3))+"% ",1)]))),64))])])])),_:1}),w(P,{label:"绿字总加成",name:"绿字总加成"},{default:p((()=>[z("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(g,null,i(ze.value,((e,u)=>(l(),a("div",{class:"item",key:u},[z("div",{class:"label",style:{width:"100px"}},t(u),1),z("div",{class:"value"}," +"+t(e),1)])))),128))])])),_:1})])),_:1})])),_:1}),w(h,{class:"mb_16"},{header:p((()=>[_("英雄绿字加成统计表")])),default:p((()=>{var e;return[w(N,{class:"mb_16",data:ge.value},{default:p((()=>[(l(),a(g,null,i(je,((e,l)=>w(U,{prop:e.prop,label:e.label,key:l},null,8,["prop","label"]))),64))])),_:1},8,["data"]),z("div",{flex:""},[Z.value?(l(),a("img",{key:0,style:{width:"120px",height:"120px",margin:"16px",display:"block"},src:null==(e=Z.value)?void 0:e["英雄头像"],alt:""},null,8,["src"])):k("",!0),z("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(g,null,i(j(E),(e=>(l(),a("div",{class:"item",style:{width:"300px"},key:e},[z("div",{class:"label",style:{width:"100px"}},t(e),1),z("div",{class:"value",flex:"",style:{gap:"8px"}},[z("div",{style:{color:"#333"}},t(j(F).bz[e]),1),z("div",null,"+"),z("div",null,t(ze.value[e]),1)])])))),128))])])]})),_:1}),w(h,{class:"mb_16"},{header:p((()=>[_(" 英雄战场面板模拟 ")])),default:p((()=>[z("div",{flex:"",style:{gap:"16px"}},[w(h,null,{header:p((()=>[_(" 英雄的白+绿面板 ")])),default:p((()=>[z("div",{style:{width:"500px"}},[w(f,{class:"mb_16",modelValue:j(F).sdsr_pd,"onUpdate:modelValue":u[9]||(u[9]=e=>j(F).sdsr_pd=e),label:"默认关联读取以上英雄模拟结果 (想手动输入 进行下面模拟 就取消勾选)"},null,8,["modelValue"]),z("br"),(l(!0),a(g,null,i(j(E),((e,t)=>(l(),a(g,{key:t},[w(b,{label:e},{default:p((()=>[w(M,{disabled:j(F).sdsr_pd,prop:e,"form-data":j(F).bjl},null,8,["disabled","prop","form-data"])])),_:2},1032,["label"]),z("br")],64)))),128))])])),_:1}),w(h,null,{header:p((()=>[_(" 英雄竞技精通区 ")])),default:p((()=>[z("div",{style:{width:"500px"}},[w(f,{class:"mb_16",modelValue:j(F).jjjt_sfm,"onUpdate:modelValue":u[10]||(u[10]=e=>j(F).jjjt_sfm=e),label:"竞技精通是否满值 (想手动输入 就取消勾选)"},null,8,["modelValue"]),z("br"),(l(!0),a(g,null,i(j(E),((e,t)=>(l(),a(g,{key:t},[w(b,{label:e},{default:p((()=>[w(M,{disabled:j(F).jjjt_sfm,prop:e,"form-data":j(F).jjjt},null,8,["disabled","prop","form-data"])])),_:2},1032,["label"]),z("br")],64)))),128))])])),_:1})])])),_:1}),w(h,{class:"mb_16"},{default:p((()=>[w(b,{label:"是否竞技场"},{default:p((()=>[w($,{modelValue:j(F).jjc_pd,"onUpdate:modelValue":u[11]||(u[11]=e=>j(F).jjc_pd=e)},{default:p((()=>[w(S,{value:!0},{default:p((()=>[_("是")])),_:1}),w(S,{value:!1},{default:p((()=>[_("否")])),_:1})])),_:1},8,["modelValue"])])),_:1}),w(b,{"label-width":"200",class:"item-w-300",label:"是否开启超绝特效"},{default:p((()=>[w($,{modelValue:j(F).cj_pd,"onUpdate:modelValue":u[12]||(u[12]=e=>j(F).cj_pd=e)},{default:p((()=>[w(S,{value:!1},{default:p((()=>[_("未开启")])),_:1}),w(S,{value:!0},{default:p((()=>[_("开启")])),_:1})])),_:1},8,["modelValue"])])),_:1}),w(N,{data:Ve.value},{default:p((()=>[(l(),a(g,null,i(ke,((e,u)=>w(U,{key:u,prop:e.prop,label:e.label,fixed:e.fixed,width:e.width},{default:p((u=>{var d;return["装备特效"===e.label?(l(),r(T,{key:0,prop:u.row.prop,formData:j(F).zb_tx},null,8,["prop","formData"])):"超绝特效"===e.label?(l(),r(Q,{key:1,value:Ke.value[u.row.prop],isPercent:!0},null,8,["value"])):"附魔加成"===e.label?(l(),a(g,{key:2},[j(F).sdsr_pd?(l(),r(Q,{key:1,value:null==(d=j(F).fm4jc)?void 0:d[u.row.prop],isPercent:!0},null,8,["value"])):(l(),r(T,{key:0,prop:u.row.prop,formData:j(F).fm4jc},null,8,["prop","formData"]))],64)):"战场其他加成"===e.label?(l(),r(T,{key:3,prop:u.row.prop,formData:j(F).zc_qt_jc},null,8,["prop","formData"])):"总加成"===e.label?(l(),r(Q,{key:4,value:u.row.total,isPercent:!0},null,8,["value"])):(l(),a(g,{key:5},[_(t(u.row.prop),1)],64))]})),_:2},1032,["prop","label","fixed","width"]))),64))])),_:1},8,["data"])])),_:1}),w(h,{class:"mb_16"},{default:p((()=>[w(H,null,{default:p((()=>[w(L,{title:"是否存在 攻转防 防转攻",name:"1"},{default:p((()=>[z("div",{flex:"",style:{gap:"8px"}},[z("div",{style:{width:"400px"}},[w(b,null,{default:p((()=>[w(f,{modelValue:j(F).zh_pd_fj,"onUpdate:modelValue":u[13]||(u[13]=e=>j(F).zh_pd_fj=e),label:"增加到某属性"},null,8,["modelValue"])])),_:1}),j(F).zh_pd_fj?(l(),a("div",{key:0},[(l(),a(g,null,i(v,((e,t)=>(l(),a(g,{key:t},[w(b,null,{default:p((()=>[w(f,{modelValue:j(F)[e.zhKey],"onUpdate:modelValue":l=>j(F)[e.zhKey]=l,label:e.prop+"进行转换"},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024),z("br"),j(F)[e.zhKey]?(l(),r(h,{key:0,class:"mb_8"},{default:p((()=>[(l(!0),a(g,null,i(j(E).filter((l=>l!==e.prop)),((t,u)=>(l(),a(g,{key:u},[w(b,{"label-width":"140",label:e.prop+"转化"+t+"系数"},{default:p((()=>[w(T,{prop:t,formData:j(F)[e.zhValueKey]},null,8,["prop","formData"])])),_:2},1032,["label"]),z("br")],64)))),128))])),_:2},1024)):k("",!0)],64)))),64))])):k("",!0)]),z("div",{style:{width:"400px"}},[w(b,null,{default:p((()=>[w(f,{modelValue:j(F).zh_pd_dt,"onUpdate:modelValue":u[14]||(u[14]=e=>j(F).zh_pd_dt=e),label:"代替某属性"},null,8,["modelValue"])])),_:1}),j(F).zh_pd_dt?(l(),a("div",{key:0},[(l(),a(g,null,i(v,((e,t)=>(l(),a(g,{key:t},[w(b,null,{default:p((()=>[w(f,{modelValue:j(F)[e.tdKey],"onUpdate:modelValue":l=>j(F)[e.tdKey]=l,label:e.prop+"进行代替"},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024),z("br"),j(F)[e.tdKey]?(l(),r(h,{key:0,class:"mb_8"},{default:p((()=>[(l(!0),a(g,null,i(j(E).filter((l=>l!==e.prop)),((t,u)=>(l(),a(g,{key:u},[w(b,{"label-width":"140",label:e.prop+"代替"+t+"系数"},{default:p((()=>[w(T,{prop:t,formData:j(F)[e.tdValueKey]},null,8,["prop","formData"])])),_:2},1032,["label"]),z("br")],64)))),128))])),_:2},1024)):k("",!0)],64)))),64))])):k("",!0)])])])),_:1})])),_:1})])),_:1}),w(h,{class:"mb_16"},{header:p((()=>[_(" 英雄的战场面板 ")])),default:p((()=>{var e;return[z("div",{flex:""},[z("div"),z("div",{class:"green-list total",flex:""},[z("div",null,[(l(),a(g,null,i(["生命"],(e=>z("div",{class:"item",key:e},[z("div",{class:"label"},t(e)+"： ",1),z("div",{class:"value",flex:"",style:{gap:"8px"}},[w(Q,{value:Oe.value[e],"show-class":qe.value[e]>0||0!=De.value[e]?"up":qe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64)),Z.value?(l(),a("img",{key:0,class:"mr_16",style:{width:"120px",height:"120px",display:"block"},src:null==(e=Z.value)?void 0:e["英雄头像"],alt:""},null,8,["src"])):k("",!0)]),z("div",null,[z("div",{flex:""},[(l(),a(g,null,i(["攻击","智力"],(e=>z("div",{class:"item",key:e},[z("div",{class:"label"},t(e)+"： ",1),z("div",{class:"value",flex:"",style:{gap:"8px"}},[w(Q,{value:Oe.value[e],"show-class":qe.value[e]>0||0!=De.value[e]?"up":qe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))]),z("div",{flex:""},[(l(),a(g,null,i(["防御","魔防"],(e=>z("div",{class:"item",key:e},[z("div",{class:"label"},t(e)+"： ",1),z("div",{class:"value",flex:"",style:{gap:"8px"}},[w(Q,{value:Oe.value[e],"show-class":qe.value[e]>0||0!=De.value[e]?"up":qe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))]),z("div",{flex:""},[(l(),a(g,null,i(["技巧"],(e=>z("div",{class:"item",key:e},[z("div",{class:"label"},t(e)+"： ",1),z("div",{class:"value",flex:"",style:{gap:"8px"}},[w(Q,{value:Oe.value[e],"show-class":qe.value[e]>0||0!=De.value[e]?"up":qe.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))])])])])]})),_:1})])),_:1},8,["model"]),z("pre",{style:{"user-select":"text"}},"      使用说明：此计算器搬运了墨源的梦战伤害计算器，一切版权均属于墨源。搬运来源：https://moyuanmz-mbjsq.streamlit.app/\n    ")])),_:1})}}},[["__scopeId","data-v-864ccae4"]]);export{W as default};
