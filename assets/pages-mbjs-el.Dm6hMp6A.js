import{f as e,o as l,h as a,t,k as u,L as d,E as r,y as n,c as i,aq as o,j as s,w as m,A as p,b as c,ar as v,r as _,as as b,p as y,m as f,at as h,i as x,a as w,z as g,u as j,F as z,s as k,au as V}from"./index-DwBcL9e2.js";import{r as N,B as q,e as A,s as K,i as D}from"./utils.CBLWscQK.js";import{_ as U,m as E,k as I,u as O,l as P,n as S,o as B,p as Q,q as G,r as L}from"./hook.goYXz2tG.js";import{_ as M,a as Y}from"./mz-input.Cwmx6TM3.js";import{_ as T}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{B as F}from"./base-divider.WKg-PMTs.js";const R=T({__name:"show-up",props:{value:{},isPercent:{type:Boolean,default:!1},showClass:{type:String,default:""}},setup(d){const r=d,n=e((()=>r.isPercent?N(100*r.value,2):r.value));return(e,r)=>(l(),a("div",{class:u(["show-up",[d.showClass?d.showClass:d.value>0?"up":d.value<0?"down":""]])},t(n.value)+t(d.isPercent?"%":""),3))}},[["__scopeId","data-v-15ab173b"]]),Z={category:{comment:"类别",hidden:!1,read_only:!1,required:!1,type:"String"},defense50:{auto_increment:!1,comment:"50血防御",hidden:!1,read_only:!1,required:!1,type:"Number"},skill50below:{auto_increment:!1,comment:"50血以下技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},lifeGeneral:{auto_increment:!1,comment:"常驻生命",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense:{auto_increment:!1,comment:"魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},lifeFull:{auto_increment:!1,comment:"满血生命",hidden:!1,read_only:!1,required:!1,type:"Number"},updatedAt:{type:"Date"},skill:{auto_increment:!1,comment:"技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},defense80:{auto_increment:!1,comment:"80血防御",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligenceFull:{auto_increment:!1,comment:"满血智力",hidden:!1,read_only:!1,required:!1,type:"Number"},ACL:{type:"ACL"},intelligence50:{auto_increment:!1,comment:"50血智力",hidden:!1,read_only:!1,required:!1,type:"Number"},attackFull:{auto_increment:!1,comment:"满血攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},objectId:{type:"String"},skillFull:{auto_increment:!1,comment:"满血技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense80:{auto_increment:!1,comment:"80血魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligence:{auto_increment:!1,comment:"智力",hidden:!1,read_only:!1,required:!1,type:"Number"},life50:{auto_increment:!1,comment:"50血生命",hidden:!1,read_only:!1,required:!1,type:"Number"},createdAt:{type:"Date"},life50below:{auto_increment:!1,comment:"50血以下生命",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligence50below:{auto_increment:!1,comment:"50血以下智力",hidden:!1,read_only:!1,required:!1,type:"Number"},skill80:{auto_increment:!1,comment:"80血技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},attackGeneral:{auto_increment:!1,comment:"常驻攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},life:{auto_increment:!1,comment:"生命",hidden:!1,read_only:!1,required:!1,type:"Number"},defense:{auto_increment:!1,comment:"防御",hidden:!1,read_only:!1,required:!1,type:"Number"},specialEffects:{comment:"满级特效",hidden:!1,read_only:!1,required:!1,type:"String"},skillGeneral:{auto_increment:!1,comment:"常驻技巧",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefenseFull:{auto_increment:!1,comment:"满血魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense50:{auto_increment:!1,comment:"50血魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},attack80:{auto_increment:!1,comment:"80血攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},defenseFull:{auto_increment:!1,comment:"满血防御",hidden:!1,read_only:!1,required:!1,type:"Number"},life80:{auto_increment:!1,comment:"80血生命",hidden:!1,read_only:!1,required:!1,type:"Number"},magicDefense50below:{auto_increment:!1,comment:"50血以下魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligenceGeneral:{auto_increment:!1,comment:"常驻智力",hidden:!1,read_only:!1,required:!1,type:"Number"},defenseGeneral:{auto_increment:!1,comment:"常驻防御",hidden:!1,read_only:!1,required:!1,type:"Number"},equipName:{comment:"装备名称",hidden:!1,read_only:!1,required:!1,type:"String"},basicBonus:{comment:"基础加成",hidden:!1,read_only:!1,required:!1,type:"String"},magicDefenseGeneral:{auto_increment:!1,comment:"常驻魔防",hidden:!1,read_only:!1,required:!1,type:"Number"},picAddr:{comment:"图片地址",hidden:!1,read_only:!1,required:!1,type:"String"},attack50below:{auto_increment:!1,comment:"50血以下攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},attack:{auto_increment:!1,comment:"攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},defense50below:{auto_increment:!1,comment:"50血以下防御",hidden:!1,read_only:!1,required:!1,type:"Number"},intelligence80:{auto_increment:!1,comment:"80血智力",hidden:!1,read_only:!1,required:!1,type:"Number"},attack50:{auto_increment:!1,comment:"50血攻击",hidden:!1,read_only:!1,required:!1,type:"Number"},skill50:{auto_increment:!1,comment:"50血技巧",hidden:!1,read_only:!1,required:!1,type:"Number"}},C={__name:"mz-number-input",props:d({min:{type:Number,default:0},isPercent:{type:Boolean,default:!1},size:{type:String,default:"small"}},{modelValue:{type:Number,default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const t=r(a,"modelValue"),u=a,d=e((()=>u.isPercent?new q(t.value||0).times(100).toNumber():Number(t.value)||0)),_=e=>{if(!u.isPercent)return t.value=Number(e);t.value=new q(e||0).div(100).toNumber()};return(e,t)=>{const r=n("el-input-number");return l(),i(r,v(e.$attrs,{size:a.size,"model-value":d.value,min:u.min,onChange:_}),o({_:2},[s(Object.entries(e.$slots).filter((([e,l])=>l)),(([l,a])=>({name:l,fn:m((()=>[p(e.$slots,l)]))}))),u.isPercent?{name:"suffix",fn:m((()=>[c(" % ")])),key:"0"}:void 0]),1040,["size","model-value","min"])}}},H=""+new URL("自定义英雄头像-Duvo-UD5.png",import.meta.url).href,W=""+new URL("武器未佩戴-BD54oIdM.png",import.meta.url).href,X=""+new URL("衣服未佩戴-CqRjrCdE.png",import.meta.url).href,J=""+new URL("头饰未佩戴-CppgXd6w.png",import.meta.url).href,$=""+new URL("饰品未佩戴-apUt05Sa.png",import.meta.url).href,ee="langrissar-calculator-mbjs-el-",le=T({__name:"mbjs-el",setup(u){const d=_([]),r=_({});b((()=>{(()=>{const e={heroName:"英雄名",occupation:"职业名",life:"生命",attack:"攻击",intelligence:"智力",defense:"防御",magicDefense:"魔防",skill:"技巧",zwLife:"铸纹生命",zwAttack:"铸纹攻击",zwIntelligence:"铸纹智力",zwDefense:"铸纹防御",zwMagicDefense:"铸纹魔防",zwSkill:"铸纹技巧",logo:"英雄头像",zwTxLife:"铸纹特效生命",zwTxAttack:"铸纹特效攻击",zwTxIntelligence:"铸纹特效智力",zwTxDefense:"铸纹特效防御",zwTxMagicDefense:"铸纹特效魔防",zwTxSkill:"铸纹特效技巧",soldierLifeAdd:"兵修生命",soldierAttackAdd:"兵修攻击",soldierDefenseAdd:"兵修防御",soldierMagicDefenseAdd:"兵修魔防",fettersLv4:"心之羁绊4",fettersLv7:"心之羁绊7",occupationType:"职业"};new h.Query("HeroBasicAttr").limit(1e3).find().then((l=>{const a=l.map((l=>("自定义英雄"===l.attributes.heroName&&(l.attributes.logo=H,l.attributes.occupationPic="data:image/png;base64,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"),{...Object.entries(l.attributes).reduce(((l,[a,t])=>(e[a]&&(l[e[a]]=t),l)),{}),...l.attributes})));d.value=Object.entries(U.groupBy(a,"英雄名")).map((([e,l])=>({"英雄名":e,list:l}))),console.log(d.value)})).catch((e=>{console.log("查询失败",e)}))})(),(()=>{const e=Z,l=Object.keys(e).reduce(((l,a)=>(l[a]=e[a].comment,l)),{});new h.Query("EquipDetail").limit(1e3).find().then((e=>{const a=l,t={"武器无":W,"衣服无":X,"头饰无":J,"饰品无":$},u=e.map((e=>(t[e.attributes.equipName]&&(e.attributes.picAddr=t[e.attributes.equipName]),{...Object.entries(e.attributes).reduce(((e,[l,t])=>(a[l]&&(e[a[l]]=t),e)),{}),...e.attributes})));r.value=U.groupBy(u,"类别"),console.log(r.value)})).catch((e=>{console.log("查询失败",e)}))})()})),b((()=>{}));const o={"生命":500,"攻击":60,"智力":60,"防御":50,"魔防":50,"技巧":80},p=[{prop:"生命",zhKey:"yx_sm_fj",zhValueKey:"yx_sm_zhxs",tdKey:"yx_sm_dt",tdValueKey:"yx_sm_dtxs"},{prop:"攻击",zhKey:"yx_gj_fj",zhValueKey:"yx_gj_zhxs",tdKey:"yx_gj_dt",tdValueKey:"yx_gj_dtxs"},{prop:"智力",zhKey:"yx_zl_fj",zhValueKey:"yx_zl_zhxs",tdKey:"yx_zl_dt",tdValueKey:"yx_zl_dtxs"},{prop:"防御",zhKey:"yx_fy_fj",zhValueKey:"yx_fy_zhxs",tdKey:"yx_fy_dt",tdValueKey:"yx_fy_dtxs"},{prop:"魔防",zhKey:"yx_mf_fj",zhValueKey:"yx_mf_zhxs",tdKey:"yx_mf_dt",tdValueKey:"yx_mf_dtxs"},{prop:"技巧",zhKey:"yx_jq_fj",zhValueKey:"yx_jq_zhxs",tdKey:"yx_jq_dt",tdValueKey:"yx_jq_dtxs"}],v={selected_hero_row:"",selected_job:"",bz_input_can_edit:!1,bz:U.cloneDeep(E),yx_wq:"无",yx_yf:"无",yx_ts:"无",yx_sp:"无",gm_fm_1:"",gm_fm_2:"",fm_input:I,zyjt_input_can_edit:!1,zyjt:U.cloneDeep(E),zw_input_can_edit:!1,zw:U.cloneDeep(E),selected_sq:"",sdsr_pd:!0,bjl:U.cloneDeep(E),jjjt_sfm:!0,jjjt:U.cloneDeep(o),jjc_pd:!0,bdxl_pd:"满血",zb_tx:U.cloneDeep(E),zc_qt_jc:U.cloneDeep(E),cj_pd:!1,zh_pd_fj:!1,zh_pd_dt:!1,...p.reduce(((e,l)=>(e[l.zhKey]=!1,e[l.zhValueKey]={},e[l.tdKey]=!1,e[l.tdValueKey]={},e)),{}),fm4jc:{},zwtxjc:{}},T=O(`${ee}formData`,JSON.parse(JSON.stringify(v))),le=()=>{T.value=JSON.parse(JSON.stringify(v))},ae=e((()=>({...T.value})));e((()=>({...ae.value}))),y((()=>T.value.selected_hero_row),(()=>{var e;T.value.selected_job=null==(e=te.value)?void 0:e.list[0].职业名}));const te=e((()=>{const e=T.value.selected_hero_row;return d.value.find((l=>l.英雄名===e))})),ue=e((()=>{var e,l,a;const t=null==(e=T.value)?void 0:e.selected_job;return null==(a=null==(l=te.value)?void 0:l.list)?void 0:a.find((e=>e.职业名===t))}));y((()=>T.value.selected_job),(()=>{T.value.bz_input_can_edit=!1})),f((()=>{T.value.bz_input_can_edit||(()=>{const e=P;T.value.bz=e.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=ue.value)?void 0:a[l])||0,e}),{})})()}));f((()=>{T.value.zyjt_input_can_edit||(T.value.zyjt={"生命":750,"攻击":80,"智力":80,"防御":60,"魔防":60,"技巧":80})}));f((()=>{T.value.zw_input_can_edit||(()=>{const e=P;T.value.zw=e.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=ue.value)?void 0:a[`铸纹${l}`]),e}),{})})()}));const de=["士兵生命","士兵攻击","士兵防御","士兵魔防"],re=["生命","攻击","智力","防御","魔防","技巧"],ne=[...re,...de],ie=()=>ne.reduce(((e,l)=>(e[l]=0,e)),{}),oe=O(`${ee}sq_cxzz`,ie()),se=ne.map((e=>({label:e,key:e}))),me=()=>{A({data:[oe.value],exportOption:se,sheetName:"Sheet1",bookName:"神契晨曦之祝加成"})},pe=()=>{K().then((e=>{D({file:e,importOption:se,sheetName:"Sheet1"}).then((e=>{oe.value=e[0]}))})).catch((()=>{ElMessage.error("导入失败")}))},ce=O(`${ee}sq_filter_data`,[]),ve=e((()=>{const e=[{"名称":"神契晨曦之祝加成"}];return L.forEach((l=>{e.push(l),e.push({"名称":`${l.名称}总加成`,"原名":l.名称,isTotal:!0,...ne.reduce(((e,a)=>{var t;return e[a]=new q(null==(t=oe.value)?void 0:t[a]).plus(l[a]||0).toNumber(),e}),{})})})),e})),_e=e((()=>{if(ce.value.length){const e=U.difference(Object.keys(S),ce.value);return ve.value.filter((l=>!e.find((e=>-1!==l.名称.indexOf(e)))))}return ve.value})),be=({row:e,rowIndex:l})=>e.isTotal?"total-row":"",ye={"武器":"yx_wq","衣服":"yx_yf","头饰":"yx_ts","饰品":"yx_sp"},fe=e((()=>Object.keys(ye).reduce(((e,l)=>{const a=r.value[l];return e[l]=(null==a?void 0:a.find((e=>{var a;return e["装备名称"]===(null==(a=T.value)?void 0:a[ye[l]])})))||(null==a?void 0:a[0]),e}),{}))),he=e((()=>Q.find((e=>e.value===T.value.gm_fm_1)))),xe=e((()=>Q.find((e=>e.value===T.value.gm_fm_2)))),we=e((()=>{const e=G.filter((e=>"部位"!==e.label)),l={};e.forEach((e=>{var a,t,u,d,r,n,i,o;const s=e.prop;(null==(a=he.value)?void 0:a.value)!==(null==(t=xe.value)?void 0:t.value)?l[s]=((null==(d=null==(u=he.value)?void 0:u.gm)?void 0:d[s])||0)+((null==(n=null==(r=xe.value)?void 0:r.gm)?void 0:n[s])||0):l[s]=(null==(o=null==(i=he.value)?void 0:i.gm)?void 0:o[s])||0}));const a=[...T.value.fm_input,{"部位":"共鸣",...l}],t={};e.forEach((e=>{const l=e.prop;t[l]=a.reduce(((e,a)=>new q(e).plus(a[l]||0).toNumber()),0)}));const u={"部位":"总加成",...t};return[...a,u]})),ge=e((()=>{if(T.value.selected_sq&&"未携带"!==T.value.selected_sq){return ve.value.find((e=>e.原名===T.value.selected_sq))||ie()}return ie()})),je=e((()=>P.reduce(((e,l)=>(e[l]=Object.keys(ye).reduce(((e,a)=>{var t,u;const d=(null==(u=null==(t=fe.value)?void 0:t[a])?void 0:u[l])||0;return new q(e).plus(d).toNumber()}),0),e)),{}))),ze=e((()=>{const e=we.value.filter((e=>"总加成"===e.部位))[0];return["生命","攻击","智力","防御","魔防"].reduce(((l,a)=>(l.fm_bfb[a]=e[`${a}百分比`]||0,l.fm_gdz[a]=e[`${a}固定值`]||0,l)),{fm_gdz:{},fm_bfb:{}})})),ke=e((()=>({zb_jc:je.value,bz:T.value.bz,fm_bfb:ze.value.fm_bfb,fm_gdz:ze.value.fm_gdz,zyjt:T.value.zyjt,zw:T.value.zw,sq_zjc:ge.value}))),Ve=e((()=>{const{zb_jc:e,bz:l,fm_bfb:a,fm_gdz:t,zyjt:u,zw:d,sq_zjc:r}=ke.value;return{"生命":N(e["生命"]+l["生命"]*a["生命"]+t["生命"]+u["生命"]+d["生命"]+r["生命"],1),"攻击":N(e["攻击"]+l["攻击"]*a["攻击"]+t["攻击"]+u["攻击"]+d["攻击"]+r["攻击"],1),"智力":N(e["智力"]+l["智力"]*a["智力"]+t["智力"]+u["智力"]+d["智力"]+r["智力"],1),"防御":N(e["防御"]+l["防御"]*a["防御"]+t["防御"]+u["防御"]+d["防御"]+r["防御"],1),"魔防":N(e["魔防"]+l["魔防"]*a["魔防"]+t["魔防"]+u["魔防"]+d["魔防"]+r["魔防"],1),"技巧":N(e["技巧"]+u["技巧"]+d["技巧"]+r["技巧"],1)}})),Ne=[{label:"",prop:"mb_key"},{label:"合计",prop:"total"},{label:"装备基础",prop:"zb_jc"},{label:"附魔百分比",prop:"fm_bfb"},{label:"附魔百分比*白字",prop:"fm_bfb*bz"},{label:"附魔固定值",prop:"fm_gdz"},{label:"职业精通",prop:"zyjt"},{label:"铸纹",prop:"zw"},{label:"神契",prop:"sq_zjc"}],qe=e((()=>P.reduce(((e,l)=>{const{zb_jc:a,bz:t,fm_bfb:u,fm_gdz:d,zyjt:r,zw:n,sq_zjc:i}=["bz","zb_jc","fm_bfb","fm_bfb","fm_gdz","zyjt","zw","sq_zjc"].reduce(((e,a)=>(e[a]=ke.value[a][l],e)),{}),o="技巧"===l;return e.push({mb_key:l,total:Ve.value[l],zb_jc:a,fm_bfb:o?"-":new q(u||0).times(100).toString()+"%","fm_bfb*bz":o?"-":new q(u||0).times(t||0).toString(),fm_gdz:o?"-":d,zyjt:r,zw:n,sq_zjc:i}),e}),[])));f((()=>{T.value.sdsr_pd&&(T.value.bjl=P.reduce(((e,l)=>(e[l]=T.value.bz[l]+Ve.value[l],e)),{}))}));f((()=>{T.value.jjjt_sfm&&(T.value.jjjt=U.cloneDeep(o))}));const Ae=[{label:" ",prop:"bw",fixed:!0,width:100},{label:"装备特效",prop:"zb_tx",width:140},{label:"附魔共鸣",prop:"fm_jc",width:140},{label:"超绝特效",prop:"cj_tx",width:100},{label:"铸纹特效",prop:"zw_tx",width:200},{label:"战场其他加成（手输）",prop:"zc_qt_jc",width:200},{label:"总加成",prop:"total",width:100}],Ke=e((()=>P.reduce(((e,l)=>(e[l]=Object.keys(fe.value).reduce(((e,a)=>{var t,u,d,r,n,i,o,s;let m=Number(null==(t=fe.value[a])?void 0:t[`常驻${l}`])||0,p=0,c=0,v=0,_=0;switch(T.value.bdxl_pd){case"50%以下":_=Number(null==(u=fe.value[a])?void 0:u[`50血以下${l}`])||0;break;case"50%以上但80%以下":v=Number(null==(d=fe.value[a])?void 0:d[`50血${l}`])||0;break;case"80%以上但未满血":c=Number(null==(r=fe.value[a])?void 0:r[`80血${l}`])||0,v=Number(null==(n=fe.value[a])?void 0:n[`50血${l}`])||0;break;default:p=Number(null==(i=fe.value[a])?void 0:i[`满血${l}`])||0,c=Number(null==(o=fe.value[a])?void 0:o[`80血${l}`])||0,v=Number(null==(s=fe.value[a])?void 0:s[`50血${l}`])||0}return e+m+p+v+_+c}),0),e)),{}))),De=e((()=>P.map((e=>{var l,a,t,u,d;const r=Ke.value[e]||0,n=Number(null==(l=Ue.value)?void 0:l[e])||0,i=Number(null==(a=T.value.fm4jc)?void 0:a[e])||0,o=Number(null==(t=T.value.zwtxjc)?void 0:t[e])||0;let s=r+n+i+(Number(null==(d=null==(u=T.value)?void 0:u.zc_qt_jc)?void 0:d[e])||0)+o;return"生命"===e&&T.value.jjc_pd&&(s+=.4),{prop:e,total:N(s,3)}})))),Ue=e((()=>T.value.cj_pd?{"攻击":.2,"智力":.2,"防御":.2,"魔防":.3}:{"攻击":0,"智力":0,"防御":0,"魔防":0}));f((()=>{var e,l,a;if(T.value.sdsr_pd){let t={};if((null==(e=he.value)?void 0:e.value)===(null==(l=xe.value)?void 0:l.value))switch(null==(a=he.value)?void 0:a.value){case"满月":"满血"!==T.value.bdxl_pd&&"80%以上但未满血"!==T.value.bdxl_pd||(t={"攻击":.1,"智力":.1,"防御":.1,"魔防":.1});break;case"怒涛":t={"攻击":.1};break;case"大树":t={"防御":.05,"魔防":.05}}T.value.fm4jc=t,ue.value&&(console.log(ue.value),T.value.zwtxjc=P.reduce(((e,l)=>{var a;return e[l]=Number(null==(a=ue.value)?void 0:a[`铸纹特效${l}`]),e}),{}))}}));const Ee=e((()=>De.value.reduce(((e,l)=>(e[l.prop]=l.total,e)),{}))),Ie=e((()=>{const e=T.value.jjc_pd,l=T.value.bjl,a=T.value.jjjt,t=Ee.value;return P.reduce(((u,d)=>{let r=l[d]*(1+t[d]);return e&&(r+=a[d]),u[d]=N(r,3),u}),{})})),Oe=e((()=>{const e=T.value,l=Ie.value;let a={};return e.zh_pd_fj&&(a=P.reduce(((a,t)=>(a[t]=p.filter((e=>e.prop!==t)).reduce(((a,u)=>(e[u.zhKey]&&(a=new q(l[u.prop]).times(e[u.zhValueKey][t]).plus(a).toNumber()),a)),0),a)),{})),a})),Pe=e((()=>{const e=T.value,l=Ie.value;let a={};return e.zh_pd_dt&&(a=P.reduce(((a,t)=>(a[t]=p.filter((e=>e.prop!==t)).reduce(((a,u)=>(e[u.tdKey]&&(a=new q(l[u.prop]).times(e[u.tdValueKey][t]).plus(a).toNumber()),a)),0),a)),{})),a})),Se=e((()=>{const e={...Ie.value};return Object.keys(Pe.value).forEach((l=>{Pe.value[l]&&(e[l]=Pe.value[l])})),P.reduce(((l,a)=>(l[a]=N(e[a]+(Oe.value[a]||0),1),l)),{})}));return(e,u)=>{const o=n("el-button"),v=n("el-option"),_=n("el-select"),b=n("el-form-item"),y=n("el-checkbox"),f=n("el-input-number"),h=n("el-card"),A=n("el-table-column"),K=n("el-table"),D=n("el-tab-pane"),U=n("el-radio"),E=n("el-radio-group"),I=n("el-tabs"),O=n("el-collapse-item"),L=n("el-collapse"),Z=n("el-divider"),H=n("el-form"),W=x;return l(),i(W,{class:"mbjs-el",style:{padding:"24px"}},{default:m((()=>[w(o,{class:"mb_16",type:"primary",onClick:le},{default:m((()=>[c("重置数据")])),_:1}),w(H,{style:{"min-width":"600px"},"label-width":"120px",class:"base-el-form","label-position":"right",inline:!0,model:j(T)},{default:m((()=>[w(h,{class:"mb_16"},{header:m((()=>[c(" 英雄白字区 ")])),default:m((()=>{var e,r,n,o;return[g("div",{flex:""},[g("div",{flex:"",class:"mr_16"},[g("div",{"flex-box":"0"},[w(b,{label:"选择英雄名"},{default:m((()=>[w(_,{modelValue:j(T).selected_hero_row,"onUpdate:modelValue":u[0]||(u[0]=e=>j(T).selected_hero_row=e),filterable:""},{default:m((()=>[(l(!0),a(z,null,s(d.value,((e,a)=>(l(),i(v,{value:e.英雄名,key:a,label:e.英雄名},null,8,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),g("br"),w(b,{label:"选择职业"},{default:m((()=>[w(_,{modelValue:j(T).selected_job,"onUpdate:modelValue":u[1]||(u[1]=e=>j(T).selected_job=e),filterable:""},{default:m((()=>{var e;return[(l(!0),a(z,null,s(null==(e=te.value)?void 0:e.list,((e,a)=>(l(),i(v,{value:e.职业名,key:a,label:e.职业名},null,8,["value","label"])))),128))]})),_:1},8,["modelValue"])])),_:1}),ue.value?(l(),a("div",{key:0,flex:""},[g("div",{flex:"dir:top cross:center"},[g("img",{style:{width:"120px",height:"120px",display:"block"},src:null==(e=ue.value)?void 0:e["英雄头像"],alt:""},null,8,["src"]),g("div",null,t(null==(r=ue.value)?void 0:r["英雄名"]),1)]),g("div",{class:"ml_16",flex:"dir:top cross:center"},[g("img",{style:{width:"40px",height:"40px",display:"block"},src:null==(n=ue.value)?void 0:n.occupationPic,alt:""},null,8,["src"]),g("div",null,t(null==(o=ue.value)?void 0:o.occupation),1)])])):k("",!0)])]),g("div",null,[w(b,{label:" "},{default:m((()=>[w(y,{modelValue:j(T).bz_input_can_edit,"onUpdate:modelValue":u[2]||(u[2]=e=>j(T).bz_input_can_edit=e),label:"是否自定义白字"},null,8,["modelValue"])])),_:1}),g("br"),(l(!0),a(z,null,s(j(P),((e,t)=>(l(),a(z,{key:t},[w(b,{label:e},{default:m((()=>[w(f,{disabled:!j(T).bz_input_can_edit,modelValue:j(T).bz[e],"onUpdate:modelValue":l=>j(T).bz[e]=l,min:0},null,8,["disabled","modelValue","onUpdate:modelValue"])])),_:2},1032,["label"]),g("br")],64)))),128))])])]})),_:1}),w(h,{class:"mb_16"},{header:m((()=>[g("div",{flex:"cross:center"},[g("div",null," 神契设置区 "),g("div",{style:{"margin-left":"auto"}},[w(o,{onClick:me},{default:m((()=>[c("导出神契设置")])),_:1}),w(o,{type:"primary",onClick:pe},{default:m((()=>[c("导入神契设置")])),_:1})])])])),default:m((()=>[g("div",null,[w(b,{label:"筛选神契"},{default:m((()=>[w(_,{style:{"min-width":"300px"},modelValue:j(ce),"onUpdate:modelValue":u[3]||(u[3]=e=>V(ce)?ce.value=e:null),filterable:"",multiple:"",clearable:""},{default:m((()=>[(l(!0),a(z,null,s(Object.keys(j(S)),((e,a)=>(l(),i(v,{value:e,key:a,label:e},{default:m((()=>[g("div",{flex:"cross:center"},[g("img",{class:"mr_16",style:{width:"30px",height:"30px"},src:j(S)[e].image,alt:""},null,8,["src"]),g("div",null,t(e),1)])])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1})]),w(K,{border:"",size:"small","row-class-name":be,data:_e.value},{default:m((()=>[(l(!0),a(z,null,s(j(B),((e,u)=>(l(),i(A,{fixed:e.fixed,key:u,width:e.width,label:e.label,prop:e.prop},{default:m((u=>{var d,r,n;return["神契晨曦之祝加成"===(null==(d=u.row)?void 0:d.名称)&&"名称"!==e.prop?(l(),a(z,{key:0},[g("div",{style:{color:"#999"}}," 最大值"+t(e.max),1),w(C,{style:{width:"120px"},max:e.max,modelValue:j(oe)[e.prop],"onUpdate:modelValue":l=>j(oe)[e.prop]=l,"is-percent":e.isPercent,min:0},null,8,["max","modelValue","onUpdate:modelValue","is-percent"])],64)):(l(),a(z,{key:1},["名称"===e.prop?(l(),a("div",{key:0,flex:"cross:center"},[(null==(r=j(S)[u.row[e.prop]])?void 0:r.image)?(l(),a("img",{key:0,style:{width:"30px",height:"30px"},class:"mr_8",src:null==(n=j(S)[u.row[e.prop]])?void 0:n.image,alt:""},null,8,["src"])):k("",!0),g("div",null,t(u.row[e.prop]),1)])):e.isPercent?(l(),a("span",{key:1},t(new(j(q))(u.row[e.prop]).times(100).toString())+"%",1)):(l(),a("span",{key:2},t(u.row[e.prop]),1))],64))]})),_:2},1032,["fixed","width","label","prop"])))),128))])),_:1},8,["data"])])),_:1}),w(h,{class:"mb_16"},{header:m((()=>[c(" 英雄绿字区 ")])),default:m((()=>[w(I,{"model-value":"装备",style:{"min-height":"300px"}},{default:m((()=>[w(D,{class:"item-w-340",label:"装备",name:"装备"},{default:m((()=>[g("div",{flex:""},[g("div",null,[(l(),a(z,null,s(ye,((e,u)=>(l(),a(z,{key:u},[w(b,{label:"请选择"+u},{default:m((()=>{var d,n,o,p;return[w(_,{modelValue:j(T)[e],"onUpdate:modelValue":l=>j(T)[e]=l,filterable:""},{default:m((()=>[(l(!0),a(z,null,s(r.value[u],((e,a)=>(l(),i(v,{key:a,label:e.装备名称,value:e.装备名称},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"]),g("div",null,[g("img",{style:{width:"100px",height:"auto"},class:"mt_8",src:null==(d=fe.value[u])?void 0:d.picAddr,alt:""},null,8,["src"]),g("div",{style:{color:"#31333f99"}},t(null==(n=fe.value[u])?void 0:n.equipName),1),g("div",null,[c(" 基础加成："),g("span",{style:{color:"green"}},t(null==(o=fe.value[u])?void 0:o.basicBonus),1)]),g("div",null,[c(" 满级特效："),g("span",{class:"orange"},t(null==(p=fe.value[u])?void 0:p.specialEffects),1)])])]})),_:2},1032,["label"]),g("br")],64)))),64))]),g("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(z,null,s(j(P),(e=>(l(),a("div",{class:"item",key:e},[g("div",{class:"label",style:{width:"100px"}},t(e),1),g("div",{class:"value"}," +"+t(je.value[e]),1)])))),128))])])])),_:1}),w(D,{class:"item-w-200",label:"附魔",name:"附魔"},{default:m((()=>[g("div",null,[w(b,{label:"第一个共鸣2件套"},{default:m((()=>{var e;return[w(_,{class:"mb_8",modelValue:j(T).gm_fm_1,"onUpdate:modelValue":u[4]||(u[4]=e=>j(T).gm_fm_1=e),filterable:""},{default:m((()=>[(l(!0),a(z,null,s(j(Q),((e,u)=>(l(),i(v,{key:u,label:e.label,value:e.value},{default:m((()=>[g("div",{flex:"cross:center"},[e.image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:e.image,alt:""},null,8,["src"])):k("",!0),g("div",null,t(e.label),1)])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),g("div",{flex:"cross:center main:center",style:{width:"100%","min-height":"50px"}},[(null==(e=he.value)?void 0:e.image)?(l(),a(z,{key:0},s(2,(e=>{var l;return g("img",{key:e,style:{width:"50px",height:"50px",margin:"0 auto"},src:null==(l=he.value)?void 0:l.image,alt:""},null,8,["src"])})),64)):k("",!0)])]})),_:1}),w(b,{label:"第二个共鸣2件套"},{default:m((()=>{var e;return[w(_,{class:"mb_8",modelValue:j(T).gm_fm_2,"onUpdate:modelValue":u[5]||(u[5]=e=>j(T).gm_fm_2=e),filterable:""},{default:m((()=>[(l(!0),a(z,null,s(j(Q),((e,u)=>(l(),i(v,{key:u,label:e.label,value:e.value},{default:m((()=>[g("div",{flex:"cross:center"},[e.image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:e.image,alt:""},null,8,["src"])):k("",!0),g("div",null,t(e.label),1)])])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"]),g("div",{flex:"cross:center main:center",style:{width:"100%","min-height":"50px"}},[(null==(e=xe.value)?void 0:e.image)?(l(),a(z,{key:0},s(2,(e=>{var l;return g("img",{key:e,style:{width:"50px",height:"50px",margin:"0 auto"},src:null==(l=xe.value)?void 0:l.image,alt:""},null,8,["src"])})),64)):k("",!0)])]})),_:1})]),w(F),w(K,{data:we.value},{default:m((()=>[(l(!0),a(z,null,s(j(G),((e,u)=>(l(),i(A,{key:u,width:e.width,fixed:e.fixed,label:e.label,prop:e.prop},{default:m((u=>{var d,r,n,o,s;return["部位"===e.label?(l(),a(z,{key:0},[c(t(u.row.部位),1)],64)):(l(),a(z,{key:1},["共鸣"===(null==(d=u.row)?void 0:d.部位)&&-1!==e.prop.indexOf("固定值")?(l(),a("div",{key:0,style:{"text-align":"center","margin-left":"-20px"}},"-")):(l(),i(C,{key:1,style:{width:"100px"},disabled:"共鸣"===(null==(r=u.row)?void 0:r.部位)||"总加成"===(null==(n=u.row)?void 0:n.部位),"is-percent":e.isPercent,modelValue:u.row[e.prop],"onUpdate:modelValue":l=>u.row[e.prop]=l,max:(null==(s=e.maxList)?void 0:s[null==(o=u.row)?void 0:o.部位])||1/0},null,8,["disabled","is-percent","modelValue","onUpdate:modelValue","max"]))],64))]})),_:2},1032,["width","fixed","label","prop"])))),128))])),_:1},8,["data"])])),_:1}),w(D,{label:"职业精通",name:"职业精通"},{default:m((()=>[g("div",{flex:"cross:top"},[w(b,{style:{display:"unset"},"label-position":"top",label:"职业精通是否满值"},{default:m((()=>[w(E,{modelValue:j(T).zyjt_input_can_edit,"onUpdate:modelValue":u[6]||(u[6]=e=>j(T).zyjt_input_can_edit=e)},{default:m((()=>[w(U,{value:!1,label:"默认满"}),g("br"),w(U,{value:!0,label:"自定义"})])),_:1},8,["modelValue"])])),_:1}),g("div",null,[(l(!0),a(z,null,s(j(P),((e,a)=>(l(),i(b,{key:a,label:e+"-职业精通"},{default:m((()=>[w(M,{disabled:!j(T).zyjt_input_can_edit,prop:e,formData:j(T).zyjt},null,8,["disabled","prop","formData"])])),_:2},1032,["label"])))),128))])])])),_:1}),w(D,{label:"铸纹",name:"铸纹"},{default:m((()=>[g("div",{flex:"cross:top"},[w(b,{class:"item-w-200",style:{display:"unset"},"label-width":200,"label-position":"top",label:"选择铸纹类型（默认满级）"},{default:m((()=>[w(E,{modelValue:j(T).zw_input_can_edit,"onUpdate:modelValue":u[7]||(u[7]=e=>j(T).zw_input_can_edit=e)},{default:m((()=>[w(U,{value:!1,label:"默认关联选择的英雄"}),g("br"),w(U,{value:!0,label:"自定义铸纹"})])),_:1},8,["modelValue"])])),_:1}),g("div",null,[(l(!0),a(z,null,s(j(P),((e,a)=>(l(),i(b,{key:a,label:e+"-职业精通"},{default:m((()=>[w(M,{disabled:!j(T).zw_input_can_edit,prop:e,formData:j(T).zw},null,8,["disabled","prop","formData"])])),_:2},1032,["label"])))),128))])])])),_:1}),w(D,{label:"神契",name:"神契"},{default:m((()=>[g("div",{flex:""},[g("div",{style:{width:"400px"}},[g("div",{class:"error mb_16",style:{"font-size":"20px"}}," 请提前在「神契设置区」设置好神契 "),w(b,{style:{width:"100%"},label:"请选择神契"},{default:m((()=>[w(_,{modelValue:j(T).selected_sq,"onUpdate:modelValue":u[8]||(u[8]=e=>j(T).selected_sq=e),filterable:"",clearable:""},{default:m((()=>[w(v,{value:"未携带",label:"未携带"}),(l(!0),a(z,null,s(Object.keys(j(S)),((e,u)=>(l(),i(v,{value:e,key:u,label:e},{default:m((()=>[g("div",{flex:"cross:center"},[j(S)[e].image?(l(),a("img",{key:0,class:"mr_16",style:{width:"30px",height:"30px"},src:j(S)[e].image,alt:""},null,8,["src"])):k("",!0),g("div",null,t(e),1)])])),_:2},1032,["value","label"])))),128))])),_:1},8,["modelValue"])])),_:1}),w(b,{label:" "},{default:m((()=>{var e,t;return[(null==(e=j(S)[j(T).selected_sq])?void 0:e.image)?(l(),a("img",{key:0,style:{display:"block",width:"100px",height:"100px"},src:null==(t=j(S)[j(T).selected_sq])?void 0:t.image,alt:""},null,8,["src"])):k("",!0)]})),_:1})]),g("div",{class:"green-list",style:{"max-width":"400px"}},[(l(),a(z,null,s(re,(e=>g("div",{class:"item",key:e},[g("div",{class:"label",style:{width:"100px"}},t(e),1),g("div",{class:"value"}," +"+t(ge.value[e]),1)]))),64)),(l(),a(z,null,s(de,(e=>g("div",{class:"item",key:e},[g("div",{class:"label",style:{width:"100px"}},t(e),1),g("div",{class:"value"}," +"+t(j(N)(100*ge.value[e],3))+"% ",1)]))),64))])])])),_:1}),w(D,{label:"绿字总加成",name:"绿字总加成"},{default:m((()=>[g("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(z,null,s(Ve.value,((e,u)=>(l(),a("div",{class:"item",key:u},[g("div",{class:"label",style:{width:"100px"}},t(u),1),g("div",{class:"value"}," +"+t(e),1)])))),128))])])),_:1})])),_:1})])),_:1}),w(h,{class:"mb_16"},{header:m((()=>[c("英雄绿字加成统计表")])),default:m((()=>{var e;return[w(K,{class:"mb_16",data:qe.value},{default:m((()=>[(l(),a(z,null,s(Ne,((e,l)=>w(A,{prop:e.prop,label:e.label,key:l},null,8,["prop","label"]))),64))])),_:1},8,["data"]),g("div",{flex:""},[ue.value?(l(),a("img",{key:0,style:{width:"120px",height:"120px",margin:"16px",display:"block"},src:null==(e=ue.value)?void 0:e["英雄头像"],alt:""},null,8,["src"])):k("",!0),g("div",{class:"green-list",style:{"max-width":"400px"}},[(l(!0),a(z,null,s(j(P),(e=>(l(),a("div",{class:"item",style:{width:"300px"},key:e},[g("div",{class:"label",style:{width:"100px"}},t(e),1),g("div",{class:"value",flex:"",style:{gap:"8px"}},[g("div",{style:{color:"#333"}},t(j(T).bz[e]),1),g("div",null,"+"),g("div",null,t(Ve.value[e]),1)])])))),128))])])]})),_:1}),w(h,{class:"mb_16"},{header:m((()=>[c(" 英雄战场面板模拟 ")])),default:m((()=>[g("div",{flex:"",style:{gap:"16px"}},[w(h,null,{header:m((()=>[c(" 英雄的白+绿面板 ")])),default:m((()=>[g("div",{style:{width:"500px"}},[w(y,{class:"mb_16",modelValue:j(T).sdsr_pd,"onUpdate:modelValue":u[9]||(u[9]=e=>j(T).sdsr_pd=e),label:"默认关联读取以上英雄模拟结果 (想手动输入 进行下面模拟 就取消勾选)"},null,8,["modelValue"]),g("br"),(l(!0),a(z,null,s(j(P),((e,t)=>(l(),a(z,{key:t},[w(b,{label:e},{default:m((()=>[w(M,{disabled:j(T).sdsr_pd,prop:e,"form-data":j(T).bjl},null,8,["disabled","prop","form-data"])])),_:2},1032,["label"]),g("br")],64)))),128))])])),_:1}),w(h,null,{header:m((()=>[c(" 英雄竞技精通区 ")])),default:m((()=>[g("div",{style:{width:"500px"}},[w(y,{class:"mb_16",modelValue:j(T).jjjt_sfm,"onUpdate:modelValue":u[10]||(u[10]=e=>j(T).jjjt_sfm=e),label:"竞技精通是否满值 (想手动输入 就取消勾选)"},null,8,["modelValue"]),g("br"),(l(!0),a(z,null,s(j(P),((e,t)=>(l(),a(z,{key:t},[w(b,{label:e},{default:m((()=>[w(M,{disabled:j(T).jjjt_sfm,prop:e,"form-data":j(T).jjjt},null,8,["disabled","prop","form-data"])])),_:2},1032,["label"]),g("br")],64)))),128))])])),_:1})])])),_:1}),w(h,{class:"mb_16"},{default:m((()=>[w(b,{label:"是否竞技场"},{default:m((()=>[w(E,{modelValue:j(T).jjc_pd,"onUpdate:modelValue":u[11]||(u[11]=e=>j(T).jjc_pd=e)},{default:m((()=>[w(U,{value:!0},{default:m((()=>[c("是")])),_:1}),w(U,{value:!1},{default:m((()=>[c("否")])),_:1})])),_:1},8,["modelValue"])])),_:1}),w(b,{"label-width":"200",class:"item-w-300",label:"是否开启超绝特效"},{default:m((()=>[w(E,{modelValue:j(T).cj_pd,"onUpdate:modelValue":u[12]||(u[12]=e=>j(T).cj_pd=e)},{default:m((()=>[w(U,{value:!1},{default:m((()=>[c("未开启")])),_:1}),w(U,{value:!0},{default:m((()=>[c("开启")])),_:1})])),_:1},8,["modelValue"])])),_:1}),w(b,{"label-width":"200",class:"item-w-300",label:"部队血量情况"},{default:m((()=>[w(E,{modelValue:j(T).bdxl_pd,"onUpdate:modelValue":u[13]||(u[13]=e=>j(T).bdxl_pd=e)},{default:m((()=>[w(U,{value:"满血"},{default:m((()=>[c("满血")])),_:1}),w(U,{value:"80%以上但未满血"},{default:m((()=>[c("80%以上但未满血")])),_:1}),w(U,{value:"50%以上但80%以下"},{default:m((()=>[c("50%以上但80%以下")])),_:1}),w(U,{value:"50%以下"},{default:m((()=>[c("50%以下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),w(I,{"model-value":"装备特效"},{default:m((()=>[(l(!0),a(z,null,s(Ae.filter((e=>"总加成"!==e.label)),(e=>(l(),i(D,{key:e.label,name:e.label,label:e.label},{default:m((()=>[g("div",{flex:"main:left"},[g("div",{style:{flex:"1"}},[g("div",{class:"mb_16",style:{"font-weight":"bold"}},t(e.label),1),g("div",{flex:""},["装备特效"===e.label?(l(),a("div",{key:0,style:{"margin-right":"32px"}},[(l(!0),a(z,null,s(fe.value,((e,u)=>(l(),a("div",{key:u,class:"mb_16"},[g("div",{flex:"cross:center",class:"mb_8"},[(null==e?void 0:e.picAddr)?(l(),a("img",{key:0,src:e.picAddr,style:{width:"40px",height:"auto","margin-right":"8px"}},null,8,["src"])):k("",!0),g("div",{style:{"font-weight":"bold"}},t(u)+"："+t(null==e?void 0:e.装备名称),1)]),g("div",null,[c("特效："),g("span",{class:"orange"},t(null==e?void 0:e.specialEffects),1)])])))),128))])):k("",!0),g("div",null,[(l(!0),a(z,null,s(De.value,(u=>{var d,r;return l(),a("div",{key:u.prop,class:"mb_16"},[g("div",{flex:"cross:center"},[g("span",{style:{width:"100px"}},t(u.prop)+"：",1),"装备特效"===e.label?(l(),i(R,{key:0,value:Ke.value[u.prop],isPercent:!0},null,8,["value"])):"超绝特效"===e.label?(l(),i(R,{key:1,value:Ue.value[u.prop],isPercent:!0},null,8,["value"])):"附魔共鸣"===e.label?(l(),a(z,{key:2},[!j(T).sdsr_pd&&u.prop?(l(),i(Y,{key:0,prop:u.prop,formData:j(T).fm4jc},null,8,["prop","formData"])):(l(),i(R,{key:1,value:null==(d=j(T).fm4jc)?void 0:d[u.prop],isPercent:!0},null,8,["value"]))],64)):"铸纹特效"===e.label?(l(),a(z,{key:3},[j(T).sdsr_pd&&j(T).selected_job&&"自定义"!==j(T).selected_job||!u.prop?(l(),i(R,{key:1,value:null==(r=j(T).zwtxjc)?void 0:r[u.prop],isPercent:!0},null,8,["value"])):(l(),i(Y,{key:0,prop:u.prop,formData:j(T).zwtxjc},null,8,["prop","formData"]))],64)):"战场其他加成（手输）"===e.label?(l(),i(Y,{key:4,prop:u.prop,formData:j(T).zc_qt_jc},null,8,["prop","formData"])):"总加成"===e.label?(l(),i(R,{key:5,value:u.total,isPercent:!0},null,8,["value"])):k("",!0)])])})),128))])])]),g("div",{style:{width:"200px","margin-left":"24px","border-left":"1px solid #eee","padding-left":"24px"}},[g("div",{class:"mb_16",style:{"font-weight":"bold"}},"总加成"),(l(!0),a(z,null,s(De.value,(e=>(l(),a("div",{key:e.prop,class:"mb_16"},[g("div",{flex:"main:justify cross:center"},[g("span",{style:{width:"100px"}},t(e.prop)+"：",1),w(R,{value:e.total,isPercent:!0},null,8,["value"])])])))),128))])])])),_:2},1032,["name","label"])))),128))])),_:1})])),_:1}),w(h,{class:"mb_16"},{default:m((()=>[w(L,null,{default:m((()=>[w(O,{title:"是否存在 攻转防 防转攻",name:"1"},{default:m((()=>[g("div",{flex:"",style:{gap:"8px"}},[g("div",{style:{width:"400px"}},[w(b,null,{default:m((()=>[w(y,{modelValue:j(T).zh_pd_fj,"onUpdate:modelValue":u[14]||(u[14]=e=>j(T).zh_pd_fj=e),label:"增加到某属性"},null,8,["modelValue"])])),_:1}),j(T).zh_pd_fj?(l(),a("div",{key:0},[(l(),a(z,null,s(p,((e,t)=>(l(),a(z,{key:t},[w(b,null,{default:m((()=>[w(y,{modelValue:j(T)[e.zhKey],"onUpdate:modelValue":l=>j(T)[e.zhKey]=l,label:e.prop+"进行转换"},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024),g("br"),j(T)[e.zhKey]?(l(),i(h,{key:0,class:"mb_8"},{default:m((()=>[(l(!0),a(z,null,s(j(P).filter((l=>l!==e.prop)),((t,u)=>(l(),a(z,{key:u},[w(b,{"label-width":"140",label:e.prop+"转化"+t+"系数"},{default:m((()=>[w(Y,{prop:t,formData:j(T)[e.zhValueKey]},null,8,["prop","formData"])])),_:2},1032,["label"]),g("br")],64)))),128))])),_:2},1024)):k("",!0)],64)))),64))])):k("",!0)]),g("div",{style:{width:"400px"}},[w(b,null,{default:m((()=>[w(y,{modelValue:j(T).zh_pd_dt,"onUpdate:modelValue":u[15]||(u[15]=e=>j(T).zh_pd_dt=e),label:"代替某属性"},null,8,["modelValue"])])),_:1}),j(T).zh_pd_dt?(l(),a("div",{key:0},[(l(),a(z,null,s(p,((e,t)=>(l(),a(z,{key:t},[w(b,null,{default:m((()=>[w(y,{modelValue:j(T)[e.tdKey],"onUpdate:modelValue":l=>j(T)[e.tdKey]=l,label:e.prop+"进行代替"},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1024),g("br"),j(T)[e.tdKey]?(l(),i(h,{key:0,class:"mb_8"},{default:m((()=>[(l(!0),a(z,null,s(j(P).filter((l=>l!==e.prop)),((t,u)=>(l(),a(z,{key:u},[w(b,{"label-width":"140",label:e.prop+"代替"+t+"系数"},{default:m((()=>[w(Y,{prop:t,formData:j(T)[e.tdValueKey]},null,8,["prop","formData"])])),_:2},1032,["label"]),g("br")],64)))),128))])),_:2},1024)):k("",!0)],64)))),64))])):k("",!0)])])])),_:1})])),_:1})])),_:1}),w(h,{class:"mb_16"},{header:m((()=>[c(" 英雄的战场面板 ")])),default:m((()=>{var e;return[g("div",{flex:""},[g("div"),g("div",{class:"green-list total",flex:""},[g("div",null,[(l(),a(z,null,s(["生命"],(e=>g("div",{class:"item",key:e},[g("div",{class:"label"},t(e)+"： ",1),g("div",{class:"value",flex:"",style:{gap:"8px"}},[w(R,{value:Se.value[e],"show-class":Ee.value[e]>0||0!=Oe.value[e]?"up":Ee.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64)),ue.value?(l(),a("img",{key:0,class:"mr_16",style:{width:"120px",height:"120px",display:"block"},src:null==(e=ue.value)?void 0:e["英雄头像"],alt:""},null,8,["src"])):k("",!0)]),g("div",null,[g("div",{flex:""},[(l(),a(z,null,s(["攻击","智力"],(e=>g("div",{class:"item",key:e},[g("div",{class:"label"},t(e)+"： ",1),g("div",{class:"value",flex:"",style:{gap:"8px"}},[w(R,{value:Se.value[e],"show-class":Ee.value[e]>0||0!=Oe.value[e]?"up":Ee.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))]),g("div",{flex:""},[(l(),a(z,null,s(["防御","魔防"],(e=>g("div",{class:"item",key:e},[g("div",{class:"label"},t(e)+"： ",1),g("div",{class:"value",flex:"",style:{gap:"8px"}},[w(R,{value:Se.value[e],"show-class":Ee.value[e]>0||0!=Oe.value[e]?"up":Ee.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))]),g("div",{flex:""},[(l(),a(z,null,s(["技巧"],(e=>g("div",{class:"item",key:e},[g("div",{class:"label"},t(e)+"： ",1),g("div",{class:"value",flex:"",style:{gap:"8px"}},[w(R,{value:Se.value[e],"show-class":Ee.value[e]>0||0!=Oe.value[e]?"up":Ee.value[e]<0?"down":""},null,8,["value","show-class"])])]))),64))])])])]),w(Z),g("div",{style:{margin:"0 24px"}},[g("h3",null,"英雄大心效果"),g("div",{class:"mt_8"},[c(" 心之羁绊4："),g("span",{class:"orange"},t(ue.value["心之羁绊4"]),1)]),g("div",{class:"mt_8"},[c(" 心之羁绊7："),g("span",{class:"orange"},t(ue.value["心之羁绊7"]),1)])])]})),_:1})])),_:1},8,["model"]),g("pre",{style:{"user-select":"text"}},"  使用说明：此计算器搬运了墨源的梦战伤害计算器，一切版权均属于墨源。搬运来源：https://moyuanmz-mbjsq.streamlit.app/\n")])),_:1})}}},[["__scopeId","data-v-6d7e0013"]]);export{le as default};
